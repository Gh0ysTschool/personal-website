{"version":3,"file":"bundle.js","sources":["../../node_modules/svelte/internal/index.mjs","../../src/components/cw/Unit.svelte","../../node_modules/svelte/easing/index.mjs","../../node_modules/svelte/transition/index.mjs","../../node_modules/svelte/animate/index.mjs","../../src/components/cw/Map.svelte","../../src/components/cw/Player.svelte","../../src/components/cw/places.js","../../src/components/cw/bg.js","../../src/components/cw/cc.js","../../src/components/cw/gc.js","../../src/components/cw/ys.js","../../src/components/cw/Game.svelte","../../src/components/cw/factions.js","../../src/main.js"],"sourcesContent":["function noop() { }\nconst identity = x => x;\nfunction assign(tar, src) {\n    // @ts-ignore\n    for (const k in src)\n        tar[k] = src[k];\n    return tar;\n}\nfunction is_promise(value) {\n    return value && typeof value === 'object' && typeof value.then === 'function';\n}\nfunction add_location(element, file, line, column, char) {\n    element.__svelte_meta = {\n        loc: { file, line, column, char }\n    };\n}\nfunction run(fn) {\n    return fn();\n}\nfunction blank_object() {\n    return Object.create(null);\n}\nfunction run_all(fns) {\n    fns.forEach(run);\n}\nfunction is_function(thing) {\n    return typeof thing === 'function';\n}\nfunction safe_not_equal(a, b) {\n    return a != a ? b == b : a !== b || ((a && typeof a === 'object') || typeof a === 'function');\n}\nfunction not_equal(a, b) {\n    return a != a ? b == b : a !== b;\n}\nfunction is_empty(obj) {\n    return Object.keys(obj).length === 0;\n}\nfunction validate_store(store, name) {\n    if (store != null && typeof store.subscribe !== 'function') {\n        throw new Error(`'${name}' is not a store with a 'subscribe' method`);\n    }\n}\nfunction subscribe(store, ...callbacks) {\n    if (store == null) {\n        return noop;\n    }\n    const unsub = store.subscribe(...callbacks);\n    return unsub.unsubscribe ? () => unsub.unsubscribe() : unsub;\n}\nfunction get_store_value(store) {\n    let value;\n    subscribe(store, _ => value = _)();\n    return value;\n}\nfunction component_subscribe(component, store, callback) {\n    component.$$.on_destroy.push(subscribe(store, callback));\n}\nfunction create_slot(definition, ctx, $$scope, fn) {\n    if (definition) {\n        const slot_ctx = get_slot_context(definition, ctx, $$scope, fn);\n        return definition[0](slot_ctx);\n    }\n}\nfunction get_slot_context(definition, ctx, $$scope, fn) {\n    return definition[1] && fn\n        ? assign($$scope.ctx.slice(), definition[1](fn(ctx)))\n        : $$scope.ctx;\n}\nfunction get_slot_changes(definition, $$scope, dirty, fn) {\n    if (definition[2] && fn) {\n        const lets = definition[2](fn(dirty));\n        if ($$scope.dirty === undefined) {\n            return lets;\n        }\n        if (typeof lets === 'object') {\n            const merged = [];\n            const len = Math.max($$scope.dirty.length, lets.length);\n            for (let i = 0; i < len; i += 1) {\n                merged[i] = $$scope.dirty[i] | lets[i];\n            }\n            return merged;\n        }\n        return $$scope.dirty | lets;\n    }\n    return $$scope.dirty;\n}\nfunction update_slot(slot, slot_definition, ctx, $$scope, dirty, get_slot_changes_fn, get_slot_context_fn) {\n    const slot_changes = get_slot_changes(slot_definition, $$scope, dirty, get_slot_changes_fn);\n    if (slot_changes) {\n        const slot_context = get_slot_context(slot_definition, ctx, $$scope, get_slot_context_fn);\n        slot.p(slot_context, slot_changes);\n    }\n}\nfunction exclude_internal_props(props) {\n    const result = {};\n    for (const k in props)\n        if (k[0] !== '$')\n            result[k] = props[k];\n    return result;\n}\nfunction compute_rest_props(props, keys) {\n    const rest = {};\n    keys = new Set(keys);\n    for (const k in props)\n        if (!keys.has(k) && k[0] !== '$')\n            rest[k] = props[k];\n    return rest;\n}\nfunction compute_slots(slots) {\n    const result = {};\n    for (const key in slots) {\n        result[key] = true;\n    }\n    return result;\n}\nfunction once(fn) {\n    let ran = false;\n    return function (...args) {\n        if (ran)\n            return;\n        ran = true;\n        fn.call(this, ...args);\n    };\n}\nfunction null_to_empty(value) {\n    return value == null ? '' : value;\n}\nfunction set_store_value(store, ret, value = ret) {\n    store.set(value);\n    return ret;\n}\nconst has_prop = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop);\nfunction action_destroyer(action_result) {\n    return action_result && is_function(action_result.destroy) ? action_result.destroy : noop;\n}\n\nconst is_client = typeof window !== 'undefined';\nlet now = is_client\n    ? () => window.performance.now()\n    : () => Date.now();\nlet raf = is_client ? cb => requestAnimationFrame(cb) : noop;\n// used internally for testing\nfunction set_now(fn) {\n    now = fn;\n}\nfunction set_raf(fn) {\n    raf = fn;\n}\n\nconst tasks = new Set();\nfunction run_tasks(now) {\n    tasks.forEach(task => {\n        if (!task.c(now)) {\n            tasks.delete(task);\n            task.f();\n        }\n    });\n    if (tasks.size !== 0)\n        raf(run_tasks);\n}\n/**\n * For testing purposes only!\n */\nfunction clear_loops() {\n    tasks.clear();\n}\n/**\n * Creates a new task that runs on each raf frame\n * until it returns a falsy value or is aborted\n */\nfunction loop(callback) {\n    let task;\n    if (tasks.size === 0)\n        raf(run_tasks);\n    return {\n        promise: new Promise(fulfill => {\n            tasks.add(task = { c: callback, f: fulfill });\n        }),\n        abort() {\n            tasks.delete(task);\n        }\n    };\n}\n\nfunction append(target, node) {\n    target.appendChild(node);\n}\nfunction insert(target, node, anchor) {\n    target.insertBefore(node, anchor || null);\n}\nfunction detach(node) {\n    node.parentNode.removeChild(node);\n}\nfunction destroy_each(iterations, detaching) {\n    for (let i = 0; i < iterations.length; i += 1) {\n        if (iterations[i])\n            iterations[i].d(detaching);\n    }\n}\nfunction element(name) {\n    return document.createElement(name);\n}\nfunction element_is(name, is) {\n    return document.createElement(name, { is });\n}\nfunction object_without_properties(obj, exclude) {\n    const target = {};\n    for (const k in obj) {\n        if (has_prop(obj, k)\n            // @ts-ignore\n            && exclude.indexOf(k) === -1) {\n            // @ts-ignore\n            target[k] = obj[k];\n        }\n    }\n    return target;\n}\nfunction svg_element(name) {\n    return document.createElementNS('http://www.w3.org/2000/svg', name);\n}\nfunction text(data) {\n    return document.createTextNode(data);\n}\nfunction space() {\n    return text(' ');\n}\nfunction empty() {\n    return text('');\n}\nfunction listen(node, event, handler, options) {\n    node.addEventListener(event, handler, options);\n    return () => node.removeEventListener(event, handler, options);\n}\nfunction prevent_default(fn) {\n    return function (event) {\n        event.preventDefault();\n        // @ts-ignore\n        return fn.call(this, event);\n    };\n}\nfunction stop_propagation(fn) {\n    return function (event) {\n        event.stopPropagation();\n        // @ts-ignore\n        return fn.call(this, event);\n    };\n}\nfunction self(fn) {\n    return function (event) {\n        // @ts-ignore\n        if (event.target === this)\n            fn.call(this, event);\n    };\n}\nfunction attr(node, attribute, value) {\n    if (value == null)\n        node.removeAttribute(attribute);\n    else if (node.getAttribute(attribute) !== value)\n        node.setAttribute(attribute, value);\n}\nfunction set_attributes(node, attributes) {\n    // @ts-ignore\n    const descriptors = Object.getOwnPropertyDescriptors(node.__proto__);\n    for (const key in attributes) {\n        if (attributes[key] == null) {\n            node.removeAttribute(key);\n        }\n        else if (key === 'style') {\n            node.style.cssText = attributes[key];\n        }\n        else if (key === '__value') {\n            node.value = node[key] = attributes[key];\n        }\n        else if (descriptors[key] && descriptors[key].set) {\n            node[key] = attributes[key];\n        }\n        else {\n            attr(node, key, attributes[key]);\n        }\n    }\n}\nfunction set_svg_attributes(node, attributes) {\n    for (const key in attributes) {\n        attr(node, key, attributes[key]);\n    }\n}\nfunction set_custom_element_data(node, prop, value) {\n    if (prop in node) {\n        node[prop] = value;\n    }\n    else {\n        attr(node, prop, value);\n    }\n}\nfunction xlink_attr(node, attribute, value) {\n    node.setAttributeNS('http://www.w3.org/1999/xlink', attribute, value);\n}\nfunction get_binding_group_value(group, __value, checked) {\n    const value = new Set();\n    for (let i = 0; i < group.length; i += 1) {\n        if (group[i].checked)\n            value.add(group[i].__value);\n    }\n    if (!checked) {\n        value.delete(__value);\n    }\n    return Array.from(value);\n}\nfunction to_number(value) {\n    return value === '' ? null : +value;\n}\nfunction time_ranges_to_array(ranges) {\n    const array = [];\n    for (let i = 0; i < ranges.length; i += 1) {\n        array.push({ start: ranges.start(i), end: ranges.end(i) });\n    }\n    return array;\n}\nfunction children(element) {\n    return Array.from(element.childNodes);\n}\nfunction claim_element(nodes, name, attributes, svg) {\n    for (let i = 0; i < nodes.length; i += 1) {\n        const node = nodes[i];\n        if (node.nodeName === name) {\n            let j = 0;\n            const remove = [];\n            while (j < node.attributes.length) {\n                const attribute = node.attributes[j++];\n                if (!attributes[attribute.name]) {\n                    remove.push(attribute.name);\n                }\n            }\n            for (let k = 0; k < remove.length; k++) {\n                node.removeAttribute(remove[k]);\n            }\n            return nodes.splice(i, 1)[0];\n        }\n    }\n    return svg ? svg_element(name) : element(name);\n}\nfunction claim_text(nodes, data) {\n    for (let i = 0; i < nodes.length; i += 1) {\n        const node = nodes[i];\n        if (node.nodeType === 3) {\n            node.data = '' + data;\n            return nodes.splice(i, 1)[0];\n        }\n    }\n    return text(data);\n}\nfunction claim_space(nodes) {\n    return claim_text(nodes, ' ');\n}\nfunction set_data(text, data) {\n    data = '' + data;\n    if (text.wholeText !== data)\n        text.data = data;\n}\nfunction set_input_value(input, value) {\n    input.value = value == null ? '' : value;\n}\nfunction set_input_type(input, type) {\n    try {\n        input.type = type;\n    }\n    catch (e) {\n        // do nothing\n    }\n}\nfunction set_style(node, key, value, important) {\n    node.style.setProperty(key, value, important ? 'important' : '');\n}\nfunction select_option(select, value) {\n    for (let i = 0; i < select.options.length; i += 1) {\n        const option = select.options[i];\n        if (option.__value === value) {\n            option.selected = true;\n            return;\n        }\n    }\n}\nfunction select_options(select, value) {\n    for (let i = 0; i < select.options.length; i += 1) {\n        const option = select.options[i];\n        option.selected = ~value.indexOf(option.__value);\n    }\n}\nfunction select_value(select) {\n    const selected_option = select.querySelector(':checked') || select.options[0];\n    return selected_option && selected_option.__value;\n}\nfunction select_multiple_value(select) {\n    return [].map.call(select.querySelectorAll(':checked'), option => option.__value);\n}\n// unfortunately this can't be a constant as that wouldn't be tree-shakeable\n// so we cache the result instead\nlet crossorigin;\nfunction is_crossorigin() {\n    if (crossorigin === undefined) {\n        crossorigin = false;\n        try {\n            if (typeof window !== 'undefined' && window.parent) {\n                void window.parent.document;\n            }\n        }\n        catch (error) {\n            crossorigin = true;\n        }\n    }\n    return crossorigin;\n}\nfunction add_resize_listener(node, fn) {\n    const computed_style = getComputedStyle(node);\n    const z_index = (parseInt(computed_style.zIndex) || 0) - 1;\n    if (computed_style.position === 'static') {\n        node.style.position = 'relative';\n    }\n    const iframe = element('iframe');\n    iframe.setAttribute('style', `display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; ` +\n        `overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: ${z_index};`);\n    iframe.setAttribute('aria-hidden', 'true');\n    iframe.tabIndex = -1;\n    const crossorigin = is_crossorigin();\n    let unsubscribe;\n    if (crossorigin) {\n        iframe.src = `data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}</script>`;\n        unsubscribe = listen(window, 'message', (event) => {\n            if (event.source === iframe.contentWindow)\n                fn();\n        });\n    }\n    else {\n        iframe.src = 'about:blank';\n        iframe.onload = () => {\n            unsubscribe = listen(iframe.contentWindow, 'resize', fn);\n        };\n    }\n    append(node, iframe);\n    return () => {\n        if (crossorigin) {\n            unsubscribe();\n        }\n        else if (unsubscribe && iframe.contentWindow) {\n            unsubscribe();\n        }\n        detach(iframe);\n    };\n}\nfunction toggle_class(element, name, toggle) {\n    element.classList[toggle ? 'add' : 'remove'](name);\n}\nfunction custom_event(type, detail) {\n    const e = document.createEvent('CustomEvent');\n    e.initCustomEvent(type, false, false, detail);\n    return e;\n}\nfunction query_selector_all(selector, parent = document.body) {\n    return Array.from(parent.querySelectorAll(selector));\n}\nclass HtmlTag {\n    constructor(anchor = null) {\n        this.a = anchor;\n        this.e = this.n = null;\n    }\n    m(html, target, anchor = null) {\n        if (!this.e) {\n            this.e = element(target.nodeName);\n            this.t = target;\n            this.h(html);\n        }\n        this.i(anchor);\n    }\n    h(html) {\n        this.e.innerHTML = html;\n        this.n = Array.from(this.e.childNodes);\n    }\n    i(anchor) {\n        for (let i = 0; i < this.n.length; i += 1) {\n            insert(this.t, this.n[i], anchor);\n        }\n    }\n    p(html) {\n        this.d();\n        this.h(html);\n        this.i(this.a);\n    }\n    d() {\n        this.n.forEach(detach);\n    }\n}\n\nconst active_docs = new Set();\nlet active = 0;\n// https://github.com/darkskyapp/string-hash/blob/master/index.js\nfunction hash(str) {\n    let hash = 5381;\n    let i = str.length;\n    while (i--)\n        hash = ((hash << 5) - hash) ^ str.charCodeAt(i);\n    return hash >>> 0;\n}\nfunction create_rule(node, a, b, duration, delay, ease, fn, uid = 0) {\n    const step = 16.666 / duration;\n    let keyframes = '{\\n';\n    for (let p = 0; p <= 1; p += step) {\n        const t = a + (b - a) * ease(p);\n        keyframes += p * 100 + `%{${fn(t, 1 - t)}}\\n`;\n    }\n    const rule = keyframes + `100% {${fn(b, 1 - b)}}\\n}`;\n    const name = `__svelte_${hash(rule)}_${uid}`;\n    const doc = node.ownerDocument;\n    active_docs.add(doc);\n    const stylesheet = doc.__svelte_stylesheet || (doc.__svelte_stylesheet = doc.head.appendChild(element('style')).sheet);\n    const current_rules = doc.__svelte_rules || (doc.__svelte_rules = {});\n    if (!current_rules[name]) {\n        current_rules[name] = true;\n        stylesheet.insertRule(`@keyframes ${name} ${rule}`, stylesheet.cssRules.length);\n    }\n    const animation = node.style.animation || '';\n    node.style.animation = `${animation ? `${animation}, ` : ``}${name} ${duration}ms linear ${delay}ms 1 both`;\n    active += 1;\n    return name;\n}\nfunction delete_rule(node, name) {\n    const previous = (node.style.animation || '').split(', ');\n    const next = previous.filter(name\n        ? anim => anim.indexOf(name) < 0 // remove specific animation\n        : anim => anim.indexOf('__svelte') === -1 // remove all Svelte animations\n    );\n    const deleted = previous.length - next.length;\n    if (deleted) {\n        node.style.animation = next.join(', ');\n        active -= deleted;\n        if (!active)\n            clear_rules();\n    }\n}\nfunction clear_rules() {\n    raf(() => {\n        if (active)\n            return;\n        active_docs.forEach(doc => {\n            const stylesheet = doc.__svelte_stylesheet;\n            let i = stylesheet.cssRules.length;\n            while (i--)\n                stylesheet.deleteRule(i);\n            doc.__svelte_rules = {};\n        });\n        active_docs.clear();\n    });\n}\n\nfunction create_animation(node, from, fn, params) {\n    if (!from)\n        return noop;\n    const to = node.getBoundingClientRect();\n    if (from.left === to.left && from.right === to.right && from.top === to.top && from.bottom === to.bottom)\n        return noop;\n    const { delay = 0, duration = 300, easing = identity, \n    // @ts-ignore todo: should this be separated from destructuring? Or start/end added to public api and documentation?\n    start: start_time = now() + delay, \n    // @ts-ignore todo:\n    end = start_time + duration, tick = noop, css } = fn(node, { from, to }, params);\n    let running = true;\n    let started = false;\n    let name;\n    function start() {\n        if (css) {\n            name = create_rule(node, 0, 1, duration, delay, easing, css);\n        }\n        if (!delay) {\n            started = true;\n        }\n    }\n    function stop() {\n        if (css)\n            delete_rule(node, name);\n        running = false;\n    }\n    loop(now => {\n        if (!started && now >= start_time) {\n            started = true;\n        }\n        if (started && now >= end) {\n            tick(1, 0);\n            stop();\n        }\n        if (!running) {\n            return false;\n        }\n        if (started) {\n            const p = now - start_time;\n            const t = 0 + 1 * easing(p / duration);\n            tick(t, 1 - t);\n        }\n        return true;\n    });\n    start();\n    tick(0, 1);\n    return stop;\n}\nfunction fix_position(node) {\n    const style = getComputedStyle(node);\n    if (style.position !== 'absolute' && style.position !== 'fixed') {\n        const { width, height } = style;\n        const a = node.getBoundingClientRect();\n        node.style.position = 'absolute';\n        node.style.width = width;\n        node.style.height = height;\n        add_transform(node, a);\n    }\n}\nfunction add_transform(node, a) {\n    const b = node.getBoundingClientRect();\n    if (a.left !== b.left || a.top !== b.top) {\n        const style = getComputedStyle(node);\n        const transform = style.transform === 'none' ? '' : style.transform;\n        node.style.transform = `${transform} translate(${a.left - b.left}px, ${a.top - b.top}px)`;\n    }\n}\n\nlet current_component;\nfunction set_current_component(component) {\n    current_component = component;\n}\nfunction get_current_component() {\n    if (!current_component)\n        throw new Error(`Function called outside component initialization`);\n    return current_component;\n}\nfunction beforeUpdate(fn) {\n    get_current_component().$$.before_update.push(fn);\n}\nfunction onMount(fn) {\n    get_current_component().$$.on_mount.push(fn);\n}\nfunction afterUpdate(fn) {\n    get_current_component().$$.after_update.push(fn);\n}\nfunction onDestroy(fn) {\n    get_current_component().$$.on_destroy.push(fn);\n}\nfunction createEventDispatcher() {\n    const component = get_current_component();\n    return (type, detail) => {\n        const callbacks = component.$$.callbacks[type];\n        if (callbacks) {\n            // TODO are there situations where events could be dispatched\n            // in a server (non-DOM) environment?\n            const event = custom_event(type, detail);\n            callbacks.slice().forEach(fn => {\n                fn.call(component, event);\n            });\n        }\n    };\n}\nfunction setContext(key, context) {\n    get_current_component().$$.context.set(key, context);\n}\nfunction getContext(key) {\n    return get_current_component().$$.context.get(key);\n}\n// TODO figure out if we still want to support\n// shorthand events, or if we want to implement\n// a real bubbling mechanism\nfunction bubble(component, event) {\n    const callbacks = component.$$.callbacks[event.type];\n    if (callbacks) {\n        callbacks.slice().forEach(fn => fn(event));\n    }\n}\n\nconst dirty_components = [];\nconst intros = { enabled: false };\nconst binding_callbacks = [];\nconst render_callbacks = [];\nconst flush_callbacks = [];\nconst resolved_promise = Promise.resolve();\nlet update_scheduled = false;\nfunction schedule_update() {\n    if (!update_scheduled) {\n        update_scheduled = true;\n        resolved_promise.then(flush);\n    }\n}\nfunction tick() {\n    schedule_update();\n    return resolved_promise;\n}\nfunction add_render_callback(fn) {\n    render_callbacks.push(fn);\n}\nfunction add_flush_callback(fn) {\n    flush_callbacks.push(fn);\n}\nlet flushing = false;\nconst seen_callbacks = new Set();\nfunction flush() {\n    if (flushing)\n        return;\n    flushing = true;\n    do {\n        // first, call beforeUpdate functions\n        // and update components\n        for (let i = 0; i < dirty_components.length; i += 1) {\n            const component = dirty_components[i];\n            set_current_component(component);\n            update(component.$$);\n        }\n        set_current_component(null);\n        dirty_components.length = 0;\n        while (binding_callbacks.length)\n            binding_callbacks.pop()();\n        // then, once components are updated, call\n        // afterUpdate functions. This may cause\n        // subsequent updates...\n        for (let i = 0; i < render_callbacks.length; i += 1) {\n            const callback = render_callbacks[i];\n            if (!seen_callbacks.has(callback)) {\n                // ...so guard against infinite loops\n                seen_callbacks.add(callback);\n                callback();\n            }\n        }\n        render_callbacks.length = 0;\n    } while (dirty_components.length);\n    while (flush_callbacks.length) {\n        flush_callbacks.pop()();\n    }\n    update_scheduled = false;\n    flushing = false;\n    seen_callbacks.clear();\n}\nfunction update($$) {\n    if ($$.fragment !== null) {\n        $$.update();\n        run_all($$.before_update);\n        const dirty = $$.dirty;\n        $$.dirty = [-1];\n        $$.fragment && $$.fragment.p($$.ctx, dirty);\n        $$.after_update.forEach(add_render_callback);\n    }\n}\n\nlet promise;\nfunction wait() {\n    if (!promise) {\n        promise = Promise.resolve();\n        promise.then(() => {\n            promise = null;\n        });\n    }\n    return promise;\n}\nfunction dispatch(node, direction, kind) {\n    node.dispatchEvent(custom_event(`${direction ? 'intro' : 'outro'}${kind}`));\n}\nconst outroing = new Set();\nlet outros;\nfunction group_outros() {\n    outros = {\n        r: 0,\n        c: [],\n        p: outros // parent group\n    };\n}\nfunction check_outros() {\n    if (!outros.r) {\n        run_all(outros.c);\n    }\n    outros = outros.p;\n}\nfunction transition_in(block, local) {\n    if (block && block.i) {\n        outroing.delete(block);\n        block.i(local);\n    }\n}\nfunction transition_out(block, local, detach, callback) {\n    if (block && block.o) {\n        if (outroing.has(block))\n            return;\n        outroing.add(block);\n        outros.c.push(() => {\n            outroing.delete(block);\n            if (callback) {\n                if (detach)\n                    block.d(1);\n                callback();\n            }\n        });\n        block.o(local);\n    }\n}\nconst null_transition = { duration: 0 };\nfunction create_in_transition(node, fn, params) {\n    let config = fn(node, params);\n    let running = false;\n    let animation_name;\n    let task;\n    let uid = 0;\n    function cleanup() {\n        if (animation_name)\n            delete_rule(node, animation_name);\n    }\n    function go() {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        if (css)\n            animation_name = create_rule(node, 0, 1, duration, delay, easing, css, uid++);\n        tick(0, 1);\n        const start_time = now() + delay;\n        const end_time = start_time + duration;\n        if (task)\n            task.abort();\n        running = true;\n        add_render_callback(() => dispatch(node, true, 'start'));\n        task = loop(now => {\n            if (running) {\n                if (now >= end_time) {\n                    tick(1, 0);\n                    dispatch(node, true, 'end');\n                    cleanup();\n                    return running = false;\n                }\n                if (now >= start_time) {\n                    const t = easing((now - start_time) / duration);\n                    tick(t, 1 - t);\n                }\n            }\n            return running;\n        });\n    }\n    let started = false;\n    return {\n        start() {\n            if (started)\n                return;\n            delete_rule(node);\n            if (is_function(config)) {\n                config = config();\n                wait().then(go);\n            }\n            else {\n                go();\n            }\n        },\n        invalidate() {\n            started = false;\n        },\n        end() {\n            if (running) {\n                cleanup();\n                running = false;\n            }\n        }\n    };\n}\nfunction create_out_transition(node, fn, params) {\n    let config = fn(node, params);\n    let running = true;\n    let animation_name;\n    const group = outros;\n    group.r += 1;\n    function go() {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        if (css)\n            animation_name = create_rule(node, 1, 0, duration, delay, easing, css);\n        const start_time = now() + delay;\n        const end_time = start_time + duration;\n        add_render_callback(() => dispatch(node, false, 'start'));\n        loop(now => {\n            if (running) {\n                if (now >= end_time) {\n                    tick(0, 1);\n                    dispatch(node, false, 'end');\n                    if (!--group.r) {\n                        // this will result in `end()` being called,\n                        // so we don't need to clean up here\n                        run_all(group.c);\n                    }\n                    return false;\n                }\n                if (now >= start_time) {\n                    const t = easing((now - start_time) / duration);\n                    tick(1 - t, t);\n                }\n            }\n            return running;\n        });\n    }\n    if (is_function(config)) {\n        wait().then(() => {\n            // @ts-ignore\n            config = config();\n            go();\n        });\n    }\n    else {\n        go();\n    }\n    return {\n        end(reset) {\n            if (reset && config.tick) {\n                config.tick(1, 0);\n            }\n            if (running) {\n                if (animation_name)\n                    delete_rule(node, animation_name);\n                running = false;\n            }\n        }\n    };\n}\nfunction create_bidirectional_transition(node, fn, params, intro) {\n    let config = fn(node, params);\n    let t = intro ? 0 : 1;\n    let running_program = null;\n    let pending_program = null;\n    let animation_name = null;\n    function clear_animation() {\n        if (animation_name)\n            delete_rule(node, animation_name);\n    }\n    function init(program, duration) {\n        const d = program.b - t;\n        duration *= Math.abs(d);\n        return {\n            a: t,\n            b: program.b,\n            d,\n            duration,\n            start: program.start,\n            end: program.start + duration,\n            group: program.group\n        };\n    }\n    function go(b) {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        const program = {\n            start: now() + delay,\n            b\n        };\n        if (!b) {\n            // @ts-ignore todo: improve typings\n            program.group = outros;\n            outros.r += 1;\n        }\n        if (running_program || pending_program) {\n            pending_program = program;\n        }\n        else {\n            // if this is an intro, and there's a delay, we need to do\n            // an initial tick and/or apply CSS animation immediately\n            if (css) {\n                clear_animation();\n                animation_name = create_rule(node, t, b, duration, delay, easing, css);\n            }\n            if (b)\n                tick(0, 1);\n            running_program = init(program, duration);\n            add_render_callback(() => dispatch(node, b, 'start'));\n            loop(now => {\n                if (pending_program && now > pending_program.start) {\n                    running_program = init(pending_program, duration);\n                    pending_program = null;\n                    dispatch(node, running_program.b, 'start');\n                    if (css) {\n                        clear_animation();\n                        animation_name = create_rule(node, t, running_program.b, running_program.duration, 0, easing, config.css);\n                    }\n                }\n                if (running_program) {\n                    if (now >= running_program.end) {\n                        tick(t = running_program.b, 1 - t);\n                        dispatch(node, running_program.b, 'end');\n                        if (!pending_program) {\n                            // we're done\n                            if (running_program.b) {\n                                // intro — we can tidy up immediately\n                                clear_animation();\n                            }\n                            else {\n                                // outro — needs to be coordinated\n                                if (!--running_program.group.r)\n                                    run_all(running_program.group.c);\n                            }\n                        }\n                        running_program = null;\n                    }\n                    else if (now >= running_program.start) {\n                        const p = now - running_program.start;\n                        t = running_program.a + running_program.d * easing(p / running_program.duration);\n                        tick(t, 1 - t);\n                    }\n                }\n                return !!(running_program || pending_program);\n            });\n        }\n    }\n    return {\n        run(b) {\n            if (is_function(config)) {\n                wait().then(() => {\n                    // @ts-ignore\n                    config = config();\n                    go(b);\n                });\n            }\n            else {\n                go(b);\n            }\n        },\n        end() {\n            clear_animation();\n            running_program = pending_program = null;\n        }\n    };\n}\n\nfunction handle_promise(promise, info) {\n    const token = info.token = {};\n    function update(type, index, key, value) {\n        if (info.token !== token)\n            return;\n        info.resolved = value;\n        let child_ctx = info.ctx;\n        if (key !== undefined) {\n            child_ctx = child_ctx.slice();\n            child_ctx[key] = value;\n        }\n        const block = type && (info.current = type)(child_ctx);\n        let needs_flush = false;\n        if (info.block) {\n            if (info.blocks) {\n                info.blocks.forEach((block, i) => {\n                    if (i !== index && block) {\n                        group_outros();\n                        transition_out(block, 1, 1, () => {\n                            info.blocks[i] = null;\n                        });\n                        check_outros();\n                    }\n                });\n            }\n            else {\n                info.block.d(1);\n            }\n            block.c();\n            transition_in(block, 1);\n            block.m(info.mount(), info.anchor);\n            needs_flush = true;\n        }\n        info.block = block;\n        if (info.blocks)\n            info.blocks[index] = block;\n        if (needs_flush) {\n            flush();\n        }\n    }\n    if (is_promise(promise)) {\n        const current_component = get_current_component();\n        promise.then(value => {\n            set_current_component(current_component);\n            update(info.then, 1, info.value, value);\n            set_current_component(null);\n        }, error => {\n            set_current_component(current_component);\n            update(info.catch, 2, info.error, error);\n            set_current_component(null);\n            if (!info.hasCatch) {\n                throw error;\n            }\n        });\n        // if we previously had a then/catch block, destroy it\n        if (info.current !== info.pending) {\n            update(info.pending, 0);\n            return true;\n        }\n    }\n    else {\n        if (info.current !== info.then) {\n            update(info.then, 1, info.value, promise);\n            return true;\n        }\n        info.resolved = promise;\n    }\n}\n\nconst globals = (typeof window !== 'undefined'\n    ? window\n    : typeof globalThis !== 'undefined'\n        ? globalThis\n        : global);\n\nfunction destroy_block(block, lookup) {\n    block.d(1);\n    lookup.delete(block.key);\n}\nfunction outro_and_destroy_block(block, lookup) {\n    transition_out(block, 1, 1, () => {\n        lookup.delete(block.key);\n    });\n}\nfunction fix_and_destroy_block(block, lookup) {\n    block.f();\n    destroy_block(block, lookup);\n}\nfunction fix_and_outro_and_destroy_block(block, lookup) {\n    block.f();\n    outro_and_destroy_block(block, lookup);\n}\nfunction update_keyed_each(old_blocks, dirty, get_key, dynamic, ctx, list, lookup, node, destroy, create_each_block, next, get_context) {\n    let o = old_blocks.length;\n    let n = list.length;\n    let i = o;\n    const old_indexes = {};\n    while (i--)\n        old_indexes[old_blocks[i].key] = i;\n    const new_blocks = [];\n    const new_lookup = new Map();\n    const deltas = new Map();\n    i = n;\n    while (i--) {\n        const child_ctx = get_context(ctx, list, i);\n        const key = get_key(child_ctx);\n        let block = lookup.get(key);\n        if (!block) {\n            block = create_each_block(key, child_ctx);\n            block.c();\n        }\n        else if (dynamic) {\n            block.p(child_ctx, dirty);\n        }\n        new_lookup.set(key, new_blocks[i] = block);\n        if (key in old_indexes)\n            deltas.set(key, Math.abs(i - old_indexes[key]));\n    }\n    const will_move = new Set();\n    const did_move = new Set();\n    function insert(block) {\n        transition_in(block, 1);\n        block.m(node, next);\n        lookup.set(block.key, block);\n        next = block.first;\n        n--;\n    }\n    while (o && n) {\n        const new_block = new_blocks[n - 1];\n        const old_block = old_blocks[o - 1];\n        const new_key = new_block.key;\n        const old_key = old_block.key;\n        if (new_block === old_block) {\n            // do nothing\n            next = new_block.first;\n            o--;\n            n--;\n        }\n        else if (!new_lookup.has(old_key)) {\n            // remove old block\n            destroy(old_block, lookup);\n            o--;\n        }\n        else if (!lookup.has(new_key) || will_move.has(new_key)) {\n            insert(new_block);\n        }\n        else if (did_move.has(old_key)) {\n            o--;\n        }\n        else if (deltas.get(new_key) > deltas.get(old_key)) {\n            did_move.add(new_key);\n            insert(new_block);\n        }\n        else {\n            will_move.add(old_key);\n            o--;\n        }\n    }\n    while (o--) {\n        const old_block = old_blocks[o];\n        if (!new_lookup.has(old_block.key))\n            destroy(old_block, lookup);\n    }\n    while (n)\n        insert(new_blocks[n - 1]);\n    return new_blocks;\n}\nfunction validate_each_keys(ctx, list, get_context, get_key) {\n    const keys = new Set();\n    for (let i = 0; i < list.length; i++) {\n        const key = get_key(get_context(ctx, list, i));\n        if (keys.has(key)) {\n            throw new Error(`Cannot have duplicate keys in a keyed each`);\n        }\n        keys.add(key);\n    }\n}\n\nfunction get_spread_update(levels, updates) {\n    const update = {};\n    const to_null_out = {};\n    const accounted_for = { $$scope: 1 };\n    let i = levels.length;\n    while (i--) {\n        const o = levels[i];\n        const n = updates[i];\n        if (n) {\n            for (const key in o) {\n                if (!(key in n))\n                    to_null_out[key] = 1;\n            }\n            for (const key in n) {\n                if (!accounted_for[key]) {\n                    update[key] = n[key];\n                    accounted_for[key] = 1;\n                }\n            }\n            levels[i] = n;\n        }\n        else {\n            for (const key in o) {\n                accounted_for[key] = 1;\n            }\n        }\n    }\n    for (const key in to_null_out) {\n        if (!(key in update))\n            update[key] = undefined;\n    }\n    return update;\n}\nfunction get_spread_object(spread_props) {\n    return typeof spread_props === 'object' && spread_props !== null ? spread_props : {};\n}\n\n// source: https://html.spec.whatwg.org/multipage/indices.html\nconst boolean_attributes = new Set([\n    'allowfullscreen',\n    'allowpaymentrequest',\n    'async',\n    'autofocus',\n    'autoplay',\n    'checked',\n    'controls',\n    'default',\n    'defer',\n    'disabled',\n    'formnovalidate',\n    'hidden',\n    'ismap',\n    'loop',\n    'multiple',\n    'muted',\n    'nomodule',\n    'novalidate',\n    'open',\n    'playsinline',\n    'readonly',\n    'required',\n    'reversed',\n    'selected'\n]);\n\nconst invalid_attribute_name_character = /[\\s'\">/=\\u{FDD0}-\\u{FDEF}\\u{FFFE}\\u{FFFF}\\u{1FFFE}\\u{1FFFF}\\u{2FFFE}\\u{2FFFF}\\u{3FFFE}\\u{3FFFF}\\u{4FFFE}\\u{4FFFF}\\u{5FFFE}\\u{5FFFF}\\u{6FFFE}\\u{6FFFF}\\u{7FFFE}\\u{7FFFF}\\u{8FFFE}\\u{8FFFF}\\u{9FFFE}\\u{9FFFF}\\u{AFFFE}\\u{AFFFF}\\u{BFFFE}\\u{BFFFF}\\u{CFFFE}\\u{CFFFF}\\u{DFFFE}\\u{DFFFF}\\u{EFFFE}\\u{EFFFF}\\u{FFFFE}\\u{FFFFF}\\u{10FFFE}\\u{10FFFF}]/u;\n// https://html.spec.whatwg.org/multipage/syntax.html#attributes-2\n// https://infra.spec.whatwg.org/#noncharacter\nfunction spread(args, classes_to_add) {\n    const attributes = Object.assign({}, ...args);\n    if (classes_to_add) {\n        if (attributes.class == null) {\n            attributes.class = classes_to_add;\n        }\n        else {\n            attributes.class += ' ' + classes_to_add;\n        }\n    }\n    let str = '';\n    Object.keys(attributes).forEach(name => {\n        if (invalid_attribute_name_character.test(name))\n            return;\n        const value = attributes[name];\n        if (value === true)\n            str += \" \" + name;\n        else if (boolean_attributes.has(name.toLowerCase())) {\n            if (value)\n                str += \" \" + name;\n        }\n        else if (value != null) {\n            str += ` ${name}=\"${String(value).replace(/\"/g, '&#34;').replace(/'/g, '&#39;')}\"`;\n        }\n    });\n    return str;\n}\nconst escaped = {\n    '\"': '&quot;',\n    \"'\": '&#39;',\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;'\n};\nfunction escape(html) {\n    return String(html).replace(/[\"'&<>]/g, match => escaped[match]);\n}\nfunction each(items, fn) {\n    let str = '';\n    for (let i = 0; i < items.length; i += 1) {\n        str += fn(items[i], i);\n    }\n    return str;\n}\nconst missing_component = {\n    $$render: () => ''\n};\nfunction validate_component(component, name) {\n    if (!component || !component.$$render) {\n        if (name === 'svelte:component')\n            name += ' this={...}';\n        throw new Error(`<${name}> is not a valid SSR component. You may need to review your build config to ensure that dependencies are compiled, rather than imported as pre-compiled modules`);\n    }\n    return component;\n}\nfunction debug(file, line, column, values) {\n    console.log(`{@debug} ${file ? file + ' ' : ''}(${line}:${column})`); // eslint-disable-line no-console\n    console.log(values); // eslint-disable-line no-console\n    return '';\n}\nlet on_destroy;\nfunction create_ssr_component(fn) {\n    function $$render(result, props, bindings, slots) {\n        const parent_component = current_component;\n        const $$ = {\n            on_destroy,\n            context: new Map(parent_component ? parent_component.$$.context : []),\n            // these will be immediately discarded\n            on_mount: [],\n            before_update: [],\n            after_update: [],\n            callbacks: blank_object()\n        };\n        set_current_component({ $$ });\n        const html = fn(result, props, bindings, slots);\n        set_current_component(parent_component);\n        return html;\n    }\n    return {\n        render: (props = {}, options = {}) => {\n            on_destroy = [];\n            const result = { title: '', head: '', css: new Set() };\n            const html = $$render(result, props, {}, options);\n            run_all(on_destroy);\n            return {\n                html,\n                css: {\n                    code: Array.from(result.css).map(css => css.code).join('\\n'),\n                    map: null // TODO\n                },\n                head: result.title + result.head\n            };\n        },\n        $$render\n    };\n}\nfunction add_attribute(name, value, boolean) {\n    if (value == null || (boolean && !value))\n        return '';\n    return ` ${name}${value === true ? '' : `=${typeof value === 'string' ? JSON.stringify(escape(value)) : `\"${value}\"`}`}`;\n}\nfunction add_classes(classes) {\n    return classes ? ` class=\"${classes}\"` : ``;\n}\n\nfunction bind(component, name, callback) {\n    const index = component.$$.props[name];\n    if (index !== undefined) {\n        component.$$.bound[index] = callback;\n        callback(component.$$.ctx[index]);\n    }\n}\nfunction create_component(block) {\n    block && block.c();\n}\nfunction claim_component(block, parent_nodes) {\n    block && block.l(parent_nodes);\n}\nfunction mount_component(component, target, anchor) {\n    const { fragment, on_mount, on_destroy, after_update } = component.$$;\n    fragment && fragment.m(target, anchor);\n    // onMount happens before the initial afterUpdate\n    add_render_callback(() => {\n        const new_on_destroy = on_mount.map(run).filter(is_function);\n        if (on_destroy) {\n            on_destroy.push(...new_on_destroy);\n        }\n        else {\n            // Edge case - component was destroyed immediately,\n            // most likely as a result of a binding initialising\n            run_all(new_on_destroy);\n        }\n        component.$$.on_mount = [];\n    });\n    after_update.forEach(add_render_callback);\n}\nfunction destroy_component(component, detaching) {\n    const $$ = component.$$;\n    if ($$.fragment !== null) {\n        run_all($$.on_destroy);\n        $$.fragment && $$.fragment.d(detaching);\n        // TODO null out other refs, including component.$$ (but need to\n        // preserve final state?)\n        $$.on_destroy = $$.fragment = null;\n        $$.ctx = [];\n    }\n}\nfunction make_dirty(component, i) {\n    if (component.$$.dirty[0] === -1) {\n        dirty_components.push(component);\n        schedule_update();\n        component.$$.dirty.fill(0);\n    }\n    component.$$.dirty[(i / 31) | 0] |= (1 << (i % 31));\n}\nfunction init(component, options, instance, create_fragment, not_equal, props, dirty = [-1]) {\n    const parent_component = current_component;\n    set_current_component(component);\n    const prop_values = options.props || {};\n    const $$ = component.$$ = {\n        fragment: null,\n        ctx: null,\n        // state\n        props,\n        update: noop,\n        not_equal,\n        bound: blank_object(),\n        // lifecycle\n        on_mount: [],\n        on_destroy: [],\n        before_update: [],\n        after_update: [],\n        context: new Map(parent_component ? parent_component.$$.context : []),\n        // everything else\n        callbacks: blank_object(),\n        dirty,\n        skip_bound: false\n    };\n    let ready = false;\n    $$.ctx = instance\n        ? instance(component, prop_values, (i, ret, ...rest) => {\n            const value = rest.length ? rest[0] : ret;\n            if ($$.ctx && not_equal($$.ctx[i], $$.ctx[i] = value)) {\n                if (!$$.skip_bound && $$.bound[i])\n                    $$.bound[i](value);\n                if (ready)\n                    make_dirty(component, i);\n            }\n            return ret;\n        })\n        : [];\n    $$.update();\n    ready = true;\n    run_all($$.before_update);\n    // `false` as a special case of no DOM component\n    $$.fragment = create_fragment ? create_fragment($$.ctx) : false;\n    if (options.target) {\n        if (options.hydrate) {\n            const nodes = children(options.target);\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            $$.fragment && $$.fragment.l(nodes);\n            nodes.forEach(detach);\n        }\n        else {\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            $$.fragment && $$.fragment.c();\n        }\n        if (options.intro)\n            transition_in(component.$$.fragment);\n        mount_component(component, options.target, options.anchor);\n        flush();\n    }\n    set_current_component(parent_component);\n}\nlet SvelteElement;\nif (typeof HTMLElement === 'function') {\n    SvelteElement = class extends HTMLElement {\n        constructor() {\n            super();\n            this.attachShadow({ mode: 'open' });\n        }\n        connectedCallback() {\n            // @ts-ignore todo: improve typings\n            for (const key in this.$$.slotted) {\n                // @ts-ignore todo: improve typings\n                this.appendChild(this.$$.slotted[key]);\n            }\n        }\n        attributeChangedCallback(attr, _oldValue, newValue) {\n            this[attr] = newValue;\n        }\n        $destroy() {\n            destroy_component(this, 1);\n            this.$destroy = noop;\n        }\n        $on(type, callback) {\n            // TODO should this delegate to addEventListener?\n            const callbacks = (this.$$.callbacks[type] || (this.$$.callbacks[type] = []));\n            callbacks.push(callback);\n            return () => {\n                const index = callbacks.indexOf(callback);\n                if (index !== -1)\n                    callbacks.splice(index, 1);\n            };\n        }\n        $set($$props) {\n            if (this.$$set && !is_empty($$props)) {\n                this.$$.skip_bound = true;\n                this.$$set($$props);\n                this.$$.skip_bound = false;\n            }\n        }\n    };\n}\nclass SvelteComponent {\n    $destroy() {\n        destroy_component(this, 1);\n        this.$destroy = noop;\n    }\n    $on(type, callback) {\n        const callbacks = (this.$$.callbacks[type] || (this.$$.callbacks[type] = []));\n        callbacks.push(callback);\n        return () => {\n            const index = callbacks.indexOf(callback);\n            if (index !== -1)\n                callbacks.splice(index, 1);\n        };\n    }\n    $set($$props) {\n        if (this.$$set && !is_empty($$props)) {\n            this.$$.skip_bound = true;\n            this.$$set($$props);\n            this.$$.skip_bound = false;\n        }\n    }\n}\n\nfunction dispatch_dev(type, detail) {\n    document.dispatchEvent(custom_event(type, Object.assign({ version: '3.29.0' }, detail)));\n}\nfunction append_dev(target, node) {\n    dispatch_dev(\"SvelteDOMInsert\", { target, node });\n    append(target, node);\n}\nfunction insert_dev(target, node, anchor) {\n    dispatch_dev(\"SvelteDOMInsert\", { target, node, anchor });\n    insert(target, node, anchor);\n}\nfunction detach_dev(node) {\n    dispatch_dev(\"SvelteDOMRemove\", { node });\n    detach(node);\n}\nfunction detach_between_dev(before, after) {\n    while (before.nextSibling && before.nextSibling !== after) {\n        detach_dev(before.nextSibling);\n    }\n}\nfunction detach_before_dev(after) {\n    while (after.previousSibling) {\n        detach_dev(after.previousSibling);\n    }\n}\nfunction detach_after_dev(before) {\n    while (before.nextSibling) {\n        detach_dev(before.nextSibling);\n    }\n}\nfunction listen_dev(node, event, handler, options, has_prevent_default, has_stop_propagation) {\n    const modifiers = options === true ? [\"capture\"] : options ? Array.from(Object.keys(options)) : [];\n    if (has_prevent_default)\n        modifiers.push('preventDefault');\n    if (has_stop_propagation)\n        modifiers.push('stopPropagation');\n    dispatch_dev(\"SvelteDOMAddEventListener\", { node, event, handler, modifiers });\n    const dispose = listen(node, event, handler, options);\n    return () => {\n        dispatch_dev(\"SvelteDOMRemoveEventListener\", { node, event, handler, modifiers });\n        dispose();\n    };\n}\nfunction attr_dev(node, attribute, value) {\n    attr(node, attribute, value);\n    if (value == null)\n        dispatch_dev(\"SvelteDOMRemoveAttribute\", { node, attribute });\n    else\n        dispatch_dev(\"SvelteDOMSetAttribute\", { node, attribute, value });\n}\nfunction prop_dev(node, property, value) {\n    node[property] = value;\n    dispatch_dev(\"SvelteDOMSetProperty\", { node, property, value });\n}\nfunction dataset_dev(node, property, value) {\n    node.dataset[property] = value;\n    dispatch_dev(\"SvelteDOMSetDataset\", { node, property, value });\n}\nfunction set_data_dev(text, data) {\n    data = '' + data;\n    if (text.wholeText === data)\n        return;\n    dispatch_dev(\"SvelteDOMSetData\", { node: text, data });\n    text.data = data;\n}\nfunction validate_each_argument(arg) {\n    if (typeof arg !== 'string' && !(arg && typeof arg === 'object' && 'length' in arg)) {\n        let msg = '{#each} only iterates over array-like objects.';\n        if (typeof Symbol === 'function' && arg && Symbol.iterator in arg) {\n            msg += ' You can use a spread to convert this iterable into an array.';\n        }\n        throw new Error(msg);\n    }\n}\nfunction validate_slots(name, slot, keys) {\n    for (const slot_key of Object.keys(slot)) {\n        if (!~keys.indexOf(slot_key)) {\n            console.warn(`<${name}> received an unexpected slot \"${slot_key}\".`);\n        }\n    }\n}\nclass SvelteComponentDev extends SvelteComponent {\n    constructor(options) {\n        if (!options || (!options.target && !options.$$inline)) {\n            throw new Error(`'target' is a required option`);\n        }\n        super();\n    }\n    $destroy() {\n        super.$destroy();\n        this.$destroy = () => {\n            console.warn(`Component was already destroyed`); // eslint-disable-line no-console\n        };\n    }\n    $capture_state() { }\n    $inject_state() { }\n}\nfunction loop_guard(timeout) {\n    const start = Date.now();\n    return () => {\n        if (Date.now() - start > timeout) {\n            throw new Error(`Infinite loop detected`);\n        }\n    };\n}\n\nexport { HtmlTag, SvelteComponent, SvelteComponentDev, SvelteElement, action_destroyer, add_attribute, add_classes, add_flush_callback, add_location, add_render_callback, add_resize_listener, add_transform, afterUpdate, append, append_dev, assign, attr, attr_dev, beforeUpdate, bind, binding_callbacks, blank_object, bubble, check_outros, children, claim_component, claim_element, claim_space, claim_text, clear_loops, component_subscribe, compute_rest_props, compute_slots, createEventDispatcher, create_animation, create_bidirectional_transition, create_component, create_in_transition, create_out_transition, create_slot, create_ssr_component, current_component, custom_event, dataset_dev, debug, destroy_block, destroy_component, destroy_each, detach, detach_after_dev, detach_before_dev, detach_between_dev, detach_dev, dirty_components, dispatch_dev, each, element, element_is, empty, escape, escaped, exclude_internal_props, fix_and_destroy_block, fix_and_outro_and_destroy_block, fix_position, flush, getContext, get_binding_group_value, get_current_component, get_slot_changes, get_slot_context, get_spread_object, get_spread_update, get_store_value, globals, group_outros, handle_promise, has_prop, identity, init, insert, insert_dev, intros, invalid_attribute_name_character, is_client, is_crossorigin, is_empty, is_function, is_promise, listen, listen_dev, loop, loop_guard, missing_component, mount_component, noop, not_equal, now, null_to_empty, object_without_properties, onDestroy, onMount, once, outro_and_destroy_block, prevent_default, prop_dev, query_selector_all, raf, run, run_all, safe_not_equal, schedule_update, select_multiple_value, select_option, select_options, select_value, self, setContext, set_attributes, set_current_component, set_custom_element_data, set_data, set_data_dev, set_input_type, set_input_value, set_now, set_raf, set_store_value, set_style, set_svg_attributes, space, spread, stop_propagation, subscribe, svg_element, text, tick, time_ranges_to_array, to_number, toggle_class, transition_in, transition_out, update_keyed_each, update_slot, validate_component, validate_each_argument, validate_each_keys, validate_slots, validate_store, xlink_attr };\n","<script lang=\"javascript\">\r\n    export let choose\r\n    import { createEventDispatcher } from 'svelte';\r\n    let dispatch = createEventDispatcher();\r\n    export let unit = {owner:{faction:{color:'black'}}}\r\n    import {onMount} from 'svelte'\r\n    let el\r\n    onMount(x=>{\r\n        el.style.background = unit.owner.faction.color\r\n    })\r\n    let click = e => {\r\n        e.stopPropagation()\r\n        choose('unit',unit)\r\n    }\r\n    let gate = unit.gate\r\n</script>\r\n<style lang=\"stylus\">\r\n    .unit\r\n        width 2em\r\n        height 2em\r\n        border 0.4em solid black\r\n        box-sizing border-box\r\n        box-shadow 1px 1px 4px 1px #000a\r\n        position relative\r\n    .gate\r\n        &:before\r\n            content:''\r\n            z-index -1\r\n            position absolute\r\n            border-radius 50%\r\n            top -0.8em\r\n            bottom -0.8em\r\n            left -0.8em\r\n            right -0.8em\r\n            box-shadow 1px 1px 4px 1px #000a\r\n            background #ddd\r\n</style>\r\n\r\n<!-- prettier-ignore -->\r\n<template lang=\"pug\">\r\n    .unit(bind:this='{el}' on:click='{click}' class:gate)\r\n</template>\r\n","export { identity as linear } from '../internal';\n\n/*\nAdapted from https://github.com/mattdesl\nDistributed under MIT License https://github.com/mattdesl/eases/blob/master/LICENSE.md\n*/\nfunction backInOut(t) {\n    const s = 1.70158 * 1.525;\n    if ((t *= 2) < 1)\n        return 0.5 * (t * t * ((s + 1) * t - s));\n    return 0.5 * ((t -= 2) * t * ((s + 1) * t + s) + 2);\n}\nfunction backIn(t) {\n    const s = 1.70158;\n    return t * t * ((s + 1) * t - s);\n}\nfunction backOut(t) {\n    const s = 1.70158;\n    return --t * t * ((s + 1) * t + s) + 1;\n}\nfunction bounceOut(t) {\n    const a = 4.0 / 11.0;\n    const b = 8.0 / 11.0;\n    const c = 9.0 / 10.0;\n    const ca = 4356.0 / 361.0;\n    const cb = 35442.0 / 1805.0;\n    const cc = 16061.0 / 1805.0;\n    const t2 = t * t;\n    return t < a\n        ? 7.5625 * t2\n        : t < b\n            ? 9.075 * t2 - 9.9 * t + 3.4\n            : t < c\n                ? ca * t2 - cb * t + cc\n                : 10.8 * t * t - 20.52 * t + 10.72;\n}\nfunction bounceInOut(t) {\n    return t < 0.5\n        ? 0.5 * (1.0 - bounceOut(1.0 - t * 2.0))\n        : 0.5 * bounceOut(t * 2.0 - 1.0) + 0.5;\n}\nfunction bounceIn(t) {\n    return 1.0 - bounceOut(1.0 - t);\n}\nfunction circInOut(t) {\n    if ((t *= 2) < 1)\n        return -0.5 * (Math.sqrt(1 - t * t) - 1);\n    return 0.5 * (Math.sqrt(1 - (t -= 2) * t) + 1);\n}\nfunction circIn(t) {\n    return 1.0 - Math.sqrt(1.0 - t * t);\n}\nfunction circOut(t) {\n    return Math.sqrt(1 - --t * t);\n}\nfunction cubicInOut(t) {\n    return t < 0.5 ? 4.0 * t * t * t : 0.5 * Math.pow(2.0 * t - 2.0, 3.0) + 1.0;\n}\nfunction cubicIn(t) {\n    return t * t * t;\n}\nfunction cubicOut(t) {\n    const f = t - 1.0;\n    return f * f * f + 1.0;\n}\nfunction elasticInOut(t) {\n    return t < 0.5\n        ? 0.5 *\n            Math.sin(((+13.0 * Math.PI) / 2) * 2.0 * t) *\n            Math.pow(2.0, 10.0 * (2.0 * t - 1.0))\n        : 0.5 *\n            Math.sin(((-13.0 * Math.PI) / 2) * (2.0 * t - 1.0 + 1.0)) *\n            Math.pow(2.0, -10.0 * (2.0 * t - 1.0)) +\n            1.0;\n}\nfunction elasticIn(t) {\n    return Math.sin((13.0 * t * Math.PI) / 2) * Math.pow(2.0, 10.0 * (t - 1.0));\n}\nfunction elasticOut(t) {\n    return (Math.sin((-13.0 * (t + 1.0) * Math.PI) / 2) * Math.pow(2.0, -10.0 * t) + 1.0);\n}\nfunction expoInOut(t) {\n    return t === 0.0 || t === 1.0\n        ? t\n        : t < 0.5\n            ? +0.5 * Math.pow(2.0, 20.0 * t - 10.0)\n            : -0.5 * Math.pow(2.0, 10.0 - t * 20.0) + 1.0;\n}\nfunction expoIn(t) {\n    return t === 0.0 ? t : Math.pow(2.0, 10.0 * (t - 1.0));\n}\nfunction expoOut(t) {\n    return t === 1.0 ? t : 1.0 - Math.pow(2.0, -10.0 * t);\n}\nfunction quadInOut(t) {\n    t /= 0.5;\n    if (t < 1)\n        return 0.5 * t * t;\n    t--;\n    return -0.5 * (t * (t - 2) - 1);\n}\nfunction quadIn(t) {\n    return t * t;\n}\nfunction quadOut(t) {\n    return -t * (t - 2.0);\n}\nfunction quartInOut(t) {\n    return t < 0.5\n        ? +8.0 * Math.pow(t, 4.0)\n        : -8.0 * Math.pow(t - 1.0, 4.0) + 1.0;\n}\nfunction quartIn(t) {\n    return Math.pow(t, 4.0);\n}\nfunction quartOut(t) {\n    return Math.pow(t - 1.0, 3.0) * (1.0 - t) + 1.0;\n}\nfunction quintInOut(t) {\n    if ((t *= 2) < 1)\n        return 0.5 * t * t * t * t * t;\n    return 0.5 * ((t -= 2) * t * t * t * t + 2);\n}\nfunction quintIn(t) {\n    return t * t * t * t * t;\n}\nfunction quintOut(t) {\n    return --t * t * t * t * t + 1;\n}\nfunction sineInOut(t) {\n    return -0.5 * (Math.cos(Math.PI * t) - 1);\n}\nfunction sineIn(t) {\n    const v = Math.cos(t * Math.PI * 0.5);\n    if (Math.abs(v) < 1e-14)\n        return 1;\n    else\n        return 1 - v;\n}\nfunction sineOut(t) {\n    return Math.sin((t * Math.PI) / 2);\n}\n\nexport { backIn, backInOut, backOut, bounceIn, bounceInOut, bounceOut, circIn, circInOut, circOut, cubicIn, cubicInOut, cubicOut, elasticIn, elasticInOut, elasticOut, expoIn, expoInOut, expoOut, quadIn, quadInOut, quadOut, quartIn, quartInOut, quartOut, quintIn, quintInOut, quintOut, sineIn, sineInOut, sineOut };\n","import { cubicInOut, linear, cubicOut } from '../easing';\nimport { is_function, assign } from '../internal';\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n\r\nfunction __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\n\nfunction blur(node, { delay = 0, duration = 400, easing = cubicInOut, amount = 5, opacity = 0 }) {\n    const style = getComputedStyle(node);\n    const target_opacity = +style.opacity;\n    const f = style.filter === 'none' ? '' : style.filter;\n    const od = target_opacity * (1 - opacity);\n    return {\n        delay,\n        duration,\n        easing,\n        css: (_t, u) => `opacity: ${target_opacity - (od * u)}; filter: ${f} blur(${u * amount}px);`\n    };\n}\nfunction fade(node, { delay = 0, duration = 400, easing = linear }) {\n    const o = +getComputedStyle(node).opacity;\n    return {\n        delay,\n        duration,\n        easing,\n        css: t => `opacity: ${t * o}`\n    };\n}\nfunction fly(node, { delay = 0, duration = 400, easing = cubicOut, x = 0, y = 0, opacity = 0 }) {\n    const style = getComputedStyle(node);\n    const target_opacity = +style.opacity;\n    const transform = style.transform === 'none' ? '' : style.transform;\n    const od = target_opacity * (1 - opacity);\n    return {\n        delay,\n        duration,\n        easing,\n        css: (t, u) => `\n\t\t\ttransform: ${transform} translate(${(1 - t) * x}px, ${(1 - t) * y}px);\n\t\t\topacity: ${target_opacity - (od * u)}`\n    };\n}\nfunction slide(node, { delay = 0, duration = 400, easing = cubicOut }) {\n    const style = getComputedStyle(node);\n    const opacity = +style.opacity;\n    const height = parseFloat(style.height);\n    const padding_top = parseFloat(style.paddingTop);\n    const padding_bottom = parseFloat(style.paddingBottom);\n    const margin_top = parseFloat(style.marginTop);\n    const margin_bottom = parseFloat(style.marginBottom);\n    const border_top_width = parseFloat(style.borderTopWidth);\n    const border_bottom_width = parseFloat(style.borderBottomWidth);\n    return {\n        delay,\n        duration,\n        easing,\n        css: t => `overflow: hidden;` +\n            `opacity: ${Math.min(t * 20, 1) * opacity};` +\n            `height: ${t * height}px;` +\n            `padding-top: ${t * padding_top}px;` +\n            `padding-bottom: ${t * padding_bottom}px;` +\n            `margin-top: ${t * margin_top}px;` +\n            `margin-bottom: ${t * margin_bottom}px;` +\n            `border-top-width: ${t * border_top_width}px;` +\n            `border-bottom-width: ${t * border_bottom_width}px;`\n    };\n}\nfunction scale(node, { delay = 0, duration = 400, easing = cubicOut, start = 0, opacity = 0 }) {\n    const style = getComputedStyle(node);\n    const target_opacity = +style.opacity;\n    const transform = style.transform === 'none' ? '' : style.transform;\n    const sd = 1 - start;\n    const od = target_opacity * (1 - opacity);\n    return {\n        delay,\n        duration,\n        easing,\n        css: (_t, u) => `\n\t\t\ttransform: ${transform} scale(${1 - (sd * u)});\n\t\t\topacity: ${target_opacity - (od * u)}\n\t\t`\n    };\n}\nfunction draw(node, { delay = 0, speed, duration, easing = cubicInOut }) {\n    const len = node.getTotalLength();\n    if (duration === undefined) {\n        if (speed === undefined) {\n            duration = 800;\n        }\n        else {\n            duration = len / speed;\n        }\n    }\n    else if (typeof duration === 'function') {\n        duration = duration(len);\n    }\n    return {\n        delay,\n        duration,\n        easing,\n        css: (t, u) => `stroke-dasharray: ${t * len} ${u * len}`\n    };\n}\nfunction crossfade(_a) {\n    var { fallback } = _a, defaults = __rest(_a, [\"fallback\"]);\n    const to_receive = new Map();\n    const to_send = new Map();\n    function crossfade(from, node, params) {\n        const { delay = 0, duration = d => Math.sqrt(d) * 30, easing = cubicOut } = assign(assign({}, defaults), params);\n        const to = node.getBoundingClientRect();\n        const dx = from.left - to.left;\n        const dy = from.top - to.top;\n        const dw = from.width / to.width;\n        const dh = from.height / to.height;\n        const d = Math.sqrt(dx * dx + dy * dy);\n        const style = getComputedStyle(node);\n        const transform = style.transform === 'none' ? '' : style.transform;\n        const opacity = +style.opacity;\n        return {\n            delay,\n            duration: is_function(duration) ? duration(d) : duration,\n            easing,\n            css: (t, u) => `\n\t\t\t\topacity: ${t * opacity};\n\t\t\t\ttransform-origin: top left;\n\t\t\t\ttransform: ${transform} translate(${u * dx}px,${u * dy}px) scale(${t + (1 - t) * dw}, ${t + (1 - t) * dh});\n\t\t\t`\n        };\n    }\n    function transition(items, counterparts, intro) {\n        return (node, params) => {\n            items.set(params.key, {\n                rect: node.getBoundingClientRect()\n            });\n            return () => {\n                if (counterparts.has(params.key)) {\n                    const { rect } = counterparts.get(params.key);\n                    counterparts.delete(params.key);\n                    return crossfade(rect, node, params);\n                }\n                // if the node is disappearing altogether\n                // (i.e. wasn't claimed by the other list)\n                // then we need to supply an outro\n                items.delete(params.key);\n                return fallback && fallback(node, params, intro);\n            };\n        };\n    }\n    return [\n        transition(to_send, to_receive, false),\n        transition(to_receive, to_send, true)\n    ];\n}\n\nexport { blur, crossfade, draw, fade, fly, scale, slide };\n","import { cubicOut } from '../easing';\nimport { is_function } from '../internal';\n\nfunction flip(node, animation, params) {\n    const style = getComputedStyle(node);\n    const transform = style.transform === 'none' ? '' : style.transform;\n    const scaleX = animation.from.width / node.clientWidth;\n    const scaleY = animation.from.height / node.clientHeight;\n    const dx = (animation.from.left - animation.to.left) / scaleX;\n    const dy = (animation.from.top - animation.to.top) / scaleY;\n    const d = Math.sqrt(dx * dx + dy * dy);\n    const { delay = 0, duration = (d) => Math.sqrt(d) * 120, easing = cubicOut } = params;\n    return {\n        delay,\n        duration: is_function(duration) ? duration(d) : duration,\n        easing,\n        css: (_t, u) => `transform: ${transform} translate(${u * dx}px, ${u * dy}px);`\n    };\n}\n\nexport { flip };\n","<script lang=\"javascript\">\r\n    import { createEventDispatcher } from 'svelte';\r\n    import Unit from './Unit.svelte'\r\n    import {onMount} from 'svelte'\r\n    export let units = []\r\n    export let choose\r\n    onMount(x=>{})\r\n    let dispatch = createEventDispatcher();\r\n    let click = e => choose('place',e.target.getAttribute('name'))\r\n    let arcticocean, northpacific, northamerica, northatlantic, scandinavia, europe, northasia, southamerica, southasia, arabia, westafrica, indianocean, eastafrica, antarctica, southatlantic, southpacific, australia;\r\n    export let places ={}\r\n    import { quintOut } from 'svelte/easing';\r\n    import { crossfade } from 'svelte/transition';\r\n    import { flip } from 'svelte/animate';\r\n    \r\n\r\n\tconst [send, receive] = crossfade({\r\n\t\tduration: d => Math.sqrt(d * 200),\r\n\r\n\t\tfallback(node, params) {\r\n\t\t\tconst style = getComputedStyle(node);\r\n\t\t\tconst transform = style.transform === 'none' ? '' : style.transform;\r\n\r\n\t\t\treturn {\r\n\t\t\t\tduration: 600,\r\n\t\t\t\teasing: quintOut,\r\n\t\t\t\tcss: t => `\r\n\t\t\t\t\ttransform: ${transform} scale(${t});\r\n\t\t\t\t\topacity: ${t}\r\n\t\t\t\t`\r\n\t\t\t};\r\n\t\t}\r\n\t});\r\n</script>\r\n<style lang=\"stylus\">\r\n    arcticocean = #c4b29B\r\n    northpacific = #585c92\r\n    northamerica = #bc6228\r\n    northatlantic = #585c72\r\n    scandinavia = #c75531\r\n    europe = #774521\r\n    northasia = #fc3218\r\n    southamerica = #fc3218\r\n    southasia = #be440f\r\n    arabia = #ce943f\r\n    westafrica = #cd836c\r\n    indianocean = #a8ace2\r\n    eastafrica = #9d533c\r\n    antarctica = #ca935e\r\n    southatlantic = #70966f\r\n    southpacific = #685c92\r\n    australia = #774521\r\n\r\n    \r\n        arcticocean = #00000000\r\n        northpacific = #00000000\r\n        northamerica = #00000000\r\n        northatlantic = #00000000\r\n        scandinavia = #00000000\r\n        europe = #00000000\r\n        northasia = #00000000\r\n        southamerica = #00000000\r\n        southasia = #00000000\r\n        arabia = #00000000\r\n        westafrica = #00000000\r\n        indianocean = #00000000\r\n        eastafrica = #00000000\r\n        antarctica = #00000000\r\n        southatlantic = #00000000\r\n        southpacific = #00000000\r\n        australia = #00000000\r\n    .grid\r\n        z-index 9\r\n    .grid, .grid2\r\n        top 5%\r\n        left 2%\r\n        right 2%\r\n        bottom 2%\r\n        background-image url('./../earth35.png')\r\n        display grid\r\n        background-size 100% 100%\r\n        grid-template-rows repeat(13, 6.66%)\r\n        grid-template-columns repeat(15, 6.66%)\r\n        position absolute\r\n    .arcticocean \r\n        grid-column 1 / 17\r\n        background arcticocean\r\n    .northpacific\r\n        grid-column 1 / 3\r\n        grid-row 4 / 9\r\n        background northpacific\r\n    .northamerica\r\n        grid-column 3 / 6\r\n        grid-row 4 / 8\r\n        background northamerica\r\n    .northatlantic\r\n        grid-column 6 / 9\r\n        grid-row 6 / 10\r\n        background northatlantic\r\n    .scandinavia\r\n        grid-column 10 / 13\r\n        grid-row 3 / 4\r\n        background scandinavia\r\n    .europe\r\n        grid-column 8 / 12\r\n        grid-row 5 / 6\r\n        background europe\r\n    .northasia\r\n        grid-column 13 / 15\r\n        grid-row 3 / span 2\r\n        background northasia\r\n    .arabia\r\n        grid-column 12 / 14\r\n        grid-row 6 / span 4\r\n        background arabia\r\n    .indianocean\r\n        grid-column 13 / 17\r\n        grid-row 11 / 15\r\n        background indianocean\r\n    .southasia\r\n        grid-column 14 / 17\r\n        grid-row 5 / span 4\r\n        background southasia\r\n    .southamerica\r\n        grid-column 5 / 7\r\n        grid-row 10 / span 3\r\n        background southamerica\r\n    .westafrica\r\n        grid-column 9 / 11\r\n        grid-row 8 / span 3\r\n        background westafrica\r\n    .southpacific\r\n        grid-column 3 / 7\r\n        grid-row 14 / span 2\r\n        background southpacific\r\n    .southatlantic\r\n        grid-column 7 / 11\r\n        grid-row 12 / span 3\r\n        background southatlantic\r\n    .eastafrica\r\n        grid-column 11 / 13\r\n        grid-row 10 / span 3\r\n        background eastafrica\r\n\r\n    .australia\r\n        grid-column 1 / 4\r\n        grid-row 11 / span 3\r\n        background australia\r\n    .antarctica\r\n        grid-column 7 / 15\r\n        grid-row 15 / 16\r\n        background antarctica\r\n    \r\n    .grid2\r\n        position absolute\r\n        z-index 10\r\n        background-image none\r\n        background #55555533\r\n    .l\r\n        display grid\r\n        grid-template-columns: repeat(auto-fit, minmax(1em, 3em));\r\n        align-content center\r\n        box-sizing border-box\r\n        padding 1em\r\n        row-gap 0.5em\r\n        justify-content center\r\n        align-items center\r\n</style>\r\n\r\n<!-- prettier-ignore -->\r\n<template lang=\"pug\">\r\n    .grid2\r\n        each loc in ['arcticocean','northpacific','northamerica','northatlantic','scandinavia','europe','northasia','southamerica','southasia','arabia','westafrica','indianocean','eastafrica','antarctica','southatlantic','southpacific','australia']\r\n            .l(class=loc bind:this=\"{\"+loc+\"}\" name=loc on:click='{click}' )\r\n                +each (`units.filter(u=>u.place=='${loc}') as unit (unit.id)`)\r\n                    div(in:receive=\"{{key: unit.id}}\" out:send=\"{{key: unit.id}}\" animate:flip=\"{{duration: 200}}\")\r\n                        Unit(unit='{unit}' '{choose}')\r\n    .grid \r\n</template>\r\n","<script lang=\"javascript\">\r\n    export let choose,player\r\n    import { createEventDispatcher } from 'svelte';\r\n    let dispatch = createEventDispatcher();\r\n    import {onMount} from 'svelte'\r\n    let el\r\n    onMount(x=>{\r\n        el.style.background = 'linear-gradient(70deg,#363636,'+player.faction.color+')'\r\n    })\r\n    let click = e => {\r\n        e.stopPropagation()\r\n        choose('player',player)\r\n    }\r\n</script>\r\n<style lang=\"stylus\">\r\n    .player\r\n        padding 1em\r\n        margin 1em\r\n        border 0.4em solid black\r\n        box-sizing border-box\r\n        box-shadow 1px 1px 4px 1px #000a\r\n        position relative\r\n        color #121212\r\n    .player2\r\n        height 3.4vh\r\n        margin 0.5%\r\n        padding 0.1em\r\n        padding-left 0.8em\r\n        padding-right 0.8em\r\n        border 0.1em solid black\r\n        box-sizing border-box\r\n        box-shadow 1px 1px 4px 1px #000a\r\n        position relative\r\n        color #121212\r\n        font-family arial\r\n        transition height 0.5s\r\n        .details\r\n            height 0em\r\n            overflow hidden\r\n            transition height 0.5s\r\n            li\r\n                text-align center\r\n                list-style-type none\r\n                width 90%\r\n                border-bottom 0.1em solid\r\n                margin 0.2em\r\n        &:hover\r\n            height 30vh\r\n            .details\r\n                height 9em\r\n</style>\r\n\r\n<!-- prettier-ignore -->\r\n<!-- \r\n.player(bind:this='{el}' on:click='{click}') {player.faction.name}\r\nul\r\n    li doom {player.doom}\r\n    li power {player.power}\r\n    li spellbooks -->\r\n<template lang=\"pug\">\r\n    .player2(bind:this='{el}' on:click='{click}') {player.faction.name} | dm {player.doom} | pw {player.power} | sb {player.books.length}\r\n        ul.details \r\n            +each ('player.faction.bookreqs as book')\r\n                li {Object.keys(book)[0]}\r\n</template>\r\n","const place = (name='',adjacent=[],ocean=false,gate=0) => ({name,adjacent,ocean,gate})\r\nconst \r\n    arcticocean = place('arcticocean',['northamerica','northatlantic','northpacific','scandinavia','northasia'],true),\r\n    northpacific = place('northpacific',['arcticocean','northamerica','southamerica','indianocean','southpacific','northasia','southasia']),\r\n    northamerica = place('northamerica',['southamerica','northatlantic','accrticocean','northpacific']),\r\n    northatlantic = place('northatlantic',['southamerica','northamerica','southatlantic','northpacific','arcticocean','europe','westafrica','arabia','scandinavia'],true),\r\n    scandinavia = place('scandinavia',['arcticocean','northatlantic','europe','northasia']),\r\n    europe = place('europe',['northatlantic','arabia','northasia','scandinavia']),\r\n    northasia = place('northasia',['arcticocean','scandinavia','europe','arabia','southasia','northpacific']),\r\n    arabia = place('arabia',['eastafrica','westafrica','europe','southasia','indianocean','northasia','northatlantic']),\r\n    southasia = place('southasia',['arabia','northasia','northpacific','indianocean']),\r\n    southamerica = place('southamerica',['northpacific','southpacific','northatlantic','southatlantic','northamerica']),\r\n    westafrica = place('westafrica',['eastafrica','southatlantic','northatlantic','arabia','indianocean']),\r\n    indianocean = place('indianocean',['northpacific','southasia','arabia','eastafrica','westafrica','antarctica','southatlantic','southpacific'],true),\r\n    southpacific = place('southpacific',['australia','indianocean','northpacific','antarctica','southamerica','southpatlantic'],true),\r\n    southatlantic = place('southatlantic',['southpacific','southamerica','northatlantic','antarctica','eastafrica','westafrica'],true),\r\n    eastafrica = place('eastafrica',['southatlantic','westafrica','arabia','indianocean']),\r\n    australia = place('australia',['indianocean','southpacific']),\r\n    antarctica = place('antarctica',['indianocean','southatlantic','southpacific'])\r\n    const places = {arcticocean, northpacific, northamerica, northatlantic, scandinavia, europe, northasia, southamerica, southasia, arabia, westafrica, indianocean, eastafrica, antarctica, southatlantic, southpacific, australia}\r\n    export default places","let faction = (G) => {\r\n    let books = [\"Blood Sacrifice\",\"Frenzy\",\"Ghroth\",\"Necrophagy\",\"The Red Sign\",\"The Thousand Young\"]\r\n    let bookreqs = [\r\n        {'sac 2 cults':f=>false },\r\n        {'be in 4 areas':f=> Object.keys(G.places).filter( p => G.player.units.map( u => u.place ).includes(p) ).length > 3 },\r\n        {'be in 6 areas':f=> Object.keys(G.places).filter( p => G.player.units.map( u => u.place ).includes(p) ).length > 5 },\r\n        {'be in 8 areas':f=> Object.keys(G.places).filter( p => G.player.units.map( u => u.place ).includes(p) ).length > 7 },\r\n        {\"Awaken Shub Nigur'rath\":f=> G.choices.awaken.unit?.type=='goo'},\r\n        {'be in all enemy areas':f=> G.players.filter( pl => pl.units.filter( un => Object.keys(G.places).filter( p => G.player.units.map( u => u.place ).includes(p) ).includes(un.place) ).length).length == G.players.length  }\r\n    ]\r\n    let goo = \"Shub Nigur'rath\"\r\n    let mons = {'Ghoul':2,Fungi:4,'Dark Young':2}\r\n    let color = 'red'\r\n    let start = 'westafrica'\r\n    let name = 'bg'\r\n    let units = []\r\n    let addUnit = (u,p) => {\r\n        u.owner = p\r\n        p.units = [...p.units,u]\r\n    }\r\n    let faction = {books,bookreqs,goo,mons,color,start,name,units,addUnit}\r\n    return faction\r\n}\r\nexport default faction","let faction = (G) => {\r\n    let books = [\"Abduct\",\"Emissary of the Outer Gods\",\"Invisibility\",\"Madness\",\"Seek and Destroy\",\"The Thousand Forms\"]\r\n    let bookreqs = [\r\n        {'pay 4 pwoer':f=>false },\r\n        {'pay 6 pwoer':f=>false },\r\n        {'3 gates / 12 power':f=> G.player.units.filter( u => u.gate ).length > 2 || G.player.power > 11 },\r\n        {'4 gates / 16 power':f=> G.player.units.filter( u => u.gate ).length > 3 || G.player.power > 15 },\r\n        {'capture':f=> units.filter( u => u.place == G.player.faction).length },\r\n        {\"Awaken Nyarlathotap\":f=> G.choices.awaken.unit?.name=='Nyarlathotap'},\r\n    ]\r\n    let goo = 'Nyarlathotap'\r\n    let mons = {Nightgaunt:3,\"Hunting Horror\":2,\"Flying Polyp\":3}\r\n    let color = 'blue'\r\n    let start = 'southasia'\r\n    let name = 'cc'\r\n    let units = []\r\n    let addUnit = (u,p) => {\r\n        u.owner = p\r\n        p.units = [...p.units,u]\r\n    }\r\n    let faction = {books,bookreqs,goo,mons,color,start,name,units,addUnit}\r\n    return faction\r\n}\r\nexport default faction","let faction = (G) => {\r\n    let oceans = Object.keys(G.places).filter( p => G.places[p].oceans)\r\n    let books = [\"Absorb\", \"Devolve\", \"Dreams\", \"Regenerate\", \"Submerge\", \"Y'hn Nthlei\"]\r\n    let bookreqs = [\r\n        {'1st doom':f=>G.phase=='doom' },\r\n        {'kill/devour enemy':f=> G.choices.fight.enemy?.kills+G.choices.fight.enemy?.devour == 1 || G.choices.fight.enemy?.kills+G.choices.fight.enemy?.devour == 3  },\r\n        {'kill/devour 2 enemies':f=> G.choices.fight.enemy?.kills+G.choices.fight.enemy?.devour == 2 || G.choices.fight.enemy?.kills+G.choices.fight.enemy?.devour == 3 },\r\n        {'3/4 Ocean Gates':f=> G.player.units.filter( u => u.gate && oceans.includes( u.place )).length > 2 || Object.values(G.places).filter( p => p.ocean && p.gate ).length > 3 },\r\n        {'Awaken Cthulhu':f=> G.choices.awaken.unit?.type=='goo'},\r\n        {'doom + 5 books':f=> G.phase == 'doom' && G.player.books.length == 5}\r\n    ]\r\n    let goo = 'Cthulhu'\r\n    let mons = {'Deep One':4,Shoggoth:2,Starspawn:2}\r\n    let color = 'green'\r\n    let start = 'southpacific'\r\n    let name = 'gc'\r\n    let units = []\r\n    let addUnit = (u,p) => {\r\n        u.owner = p\r\n        p.units = [...p.units,u]\r\n    }\r\n    let faction = {books,bookreqs,goo,mons,color,start,name,units,addUnit}\r\n    return faction\r\n}\r\nexport default faction","let faction = (G) => {\r\n    let books = [\"He Who Must Not Be Named\",\"Passion\",\"Shriek of the Byakhee\",\"The Screaming Dead\",\"The Third Eye\",\"Zin Gaya\",]\r\n    let bookreqs = [\r\n        {'gift 3 doom':f=>false },\r\n        {'Desecrate \\\\|/':f=> Object.values(G.places).filter( p => p.desecrated && p.glyphs['\\\\|/']).length },\r\n        {'Desecrate \\\\o/':f=> Object.values(G.places).filter( p => p.desecrated && p.glyphs['\\\\o/']).length },\r\n        {'Desecrate \\\\-/':f=> Object.values(G.places).filter( p => p.desecrated && p.glyphs['\\\\-/']).length },\r\n        {\"Awaken King in Yellow\":f=> G.choices.awaken.unit?.name=='King in Yellow'},\r\n        {\"Awaken Hastur\":f=> G.choices.awaken.unit?.name=='Hastur'}\r\n    ]\r\n    let goo = ['King in Yellow','Hastur']\r\n    let mons = {Undead:2,\"Bya'khee\":4}\r\n    let color = 'yellow'\r\n    let start = 'europe'\r\n    let name = 'ys'\r\n    let units = []\r\n    let addUnit = (u,p) => {\r\n        u.owner = p\r\n        p.units = [...p.units,u]\r\n    }\r\n    let faction = {books,bookreqs,goo,mons,color,start,name,units,addUnit}\r\n    return faction\r\n}\r\nexport default faction","<script lang=\"javascript\">\r\n    import Map from './Map.svelte'\r\n    import Actions from './Actions.svelte'\r\n    import Player from './Player.svelte'\r\n    import places from './places.js'\r\n    import Factions from './factions.js'\r\n    let players, factions, phases, turn, phase, stage, choices, player, units\r\n    let G = {choices, players, player, places, phases, turn, phase, stage, units}\r\n    factions = Factions(G)\r\n    let playerF = ( faction='', units = [], doom=0, power=0 ) => ({ units,faction,doom,power,books:[] })\r\n    let unit = ( type = '', owner = {}, place = '', cost = 0, fight = 0, tier = 0, gather = 0) => ({ id:genid(), type, owner, place, cost, fight, gather, tier, gate:0 })\r\n    let fmove = ({unit, place}) => { unit.place = place; unit.gate=0;}\r\n    let genid = f => nonce++\r\n    let nonce = 0\r\n    G.players = Object.values(factions).map( f => playerF(f))\r\n    G.players.map( p => {\r\n        p.units = Array(6).fill(null).map( u => unit('cult',p,p.faction.start) )\r\n        p.units[2].gate=p.faction.start\r\n        places[p.faction.start].gate=1\r\n        p.power = 8\r\n    })\r\n    G.turn = {lim:1,pi:0}\r\n    let lim = true\r\n    let unlim = true\r\n    $: G.player = G.players[G.turn.pi%G.players.length]\r\n    $: G.units = G.players.reduce((acc,cur)=>[...acc,...cur.units],[])\r\n    G.choices = {\r\n        book : {\r\n            book : null,\r\n        },\r\n        awaken : {\r\n            unit : null,\r\n            place : null,\r\n        },\r\n        move : {\r\n            unit : null,\r\n            place : null,\r\n        },\r\n        fight : {\r\n            place : null,\r\n            enemy : null,\r\n        },\r\n        hire : {\r\n            place : null,\r\n        },\r\n        open : {\r\n            place : null,\r\n        },\r\n        summon : {\r\n            unit : null,\r\n            place : null,\r\n        },\r\n        steal : {\r\n            place : null,\r\n            unit : null,\r\n        },\r\n    }\r\n    G.phase = 'action'\r\n    let actions = []\r\n    G.stage = ''\r\n    let choose = x => {}\r\n    $: actions = (G.stage == '') ? G.phases[G.phase].options() : G.phases[G.phase].stages[G.stage].options()\r\n    $: G.choose = (G.stage == '') ? G.phases[G.phase].moves.choose : G.phases[G.phase].stages[G.stage].moves.choose\r\n    let endTurn  = t => { \r\n        G.turn.lim=1; \r\n        G.turn.pi++; \r\n        G.phase = (G.players.filter( p => p.power ).length) ? 'action' : 'gather';\r\n    }\r\n    let returnStage = f => {}\r\n    let interuptStage = (inphase,instage,inpi) => {\r\n        let rphase = ''+G.phase\r\n        let rstage = ''+G.stage\r\n        let rpi = 0+G.turn.pi\r\n        returnStage = f => {\r\n            G.phase = rphase\r\n            G.stage = rstage\r\n            G.turn.pi = rpi\r\n        }\r\n        G.phase = inphase\r\n        G.stage = instage\r\n        G.turn.pi = inpi\r\n    }\r\n    let checkbooks = () => \r\n        G.players.map( p => p.faction.bookreqs.map( (l,i) => {\r\n            if (Object.values(l)[0]()){\r\n                p.faction.bookreqs[i] = {'waiting...':f=>false}\r\n                interuptStage('book','book',G.players.indexOf(p))\r\n            }\r\n        }))\r\n    let setStage = s => {G.stage = s;}\r\n    let endStage = s => {if (G.phases[G.phase].stages[G.stage].next) {setStage(G.phases[G.phase].stages[G.stage].next)} else {endPhase();}}\r\n    let setPhase = p => {\r\n        G.phase = p\r\n        G.stage = G.phases[G.phase].start\r\n        checkbooks()\r\n    }\r\n    let endPhase = p => {\r\n        if (G.phases[G.phase].lim) \r\n            G.turn.lim--\r\n        G.phase = (G.phases[G.phase].next) ? G.phases[G.phase].next : 'action';\r\n        G.stage = ''\r\n        checkbooks()\r\n        console.log(G.phases.action.options().length)\r\n        if (G.phase == 'action' && !G.phases.action.options().length) endTurn()\r\n    }\r\n    G.phases = {\r\n        action : {\r\n            start : '',\r\n            options : f => Object.keys(G.phases).filter( p => G.phases[p].unlim || (G.phases[p].lim && G.turn.lim) ),\r\n            moves : {\r\n                choose : (np,c) => {if (np == '') setPhase(c)},\r\n                done : (np,c) => { G.player.power = 0; endTurn(); }\r\n            }\r\n        },\r\n        move : {\r\n            lim,\r\n            start : 'unit',\r\n            stages: {               \r\n                    unit : {\r\n                        next : 'place',\r\n                        options : f => G.player.units.filter( u => G.places[u.place] && !u.moved),\r\n                        moves : {\r\n                            choose : (np, c) => {\r\n                                if (np == 'unit' && G.player.units.filter( u => G.places[u.place] ).map( u => u.id ).includes(c.id) /*&& !(places[c.place].tokens.includes('iceage') && player.power < 2)*/) {\r\n                                    G.choices.move.unit = c\r\n                                    endStage()\r\n                                }\r\n                            },\r\n                            done : f => {\r\n                                endPhase()\r\n                                G.player.units.map( u => u.moved = 0)\r\n                            }\r\n                        },\r\n                    },\r\n                    place : {\r\n                        next : 'unit',\r\n                        options : f => G.places[G.choices.move.unit.place].adjacent,\r\n                        moves : {\r\n                            choose : (np, c) => {\r\n                                if (np == 'place' && G.places[G.choices.move.unit.place].adjacent.includes(c)) {\r\n                                    G.choices.move.place = c\r\n                                    G.choices.move.unit.gate = 0\r\n                                    G.choices.move.unit.place = c\r\n                                    G.choices.move.unit.moved = 1\r\n                                    G.player.power--\r\n                                    G.choices.move.unit = null\r\n                                    G.choices.move.place = null\r\n                                    forceRerender()\r\n                                    if (G.player.power == 0) {\r\n                                        endPhase()\r\n                                        G.player.units.map( u => u.moved = 0)\r\n                                    }\r\n                                    else endStage()\r\n                                }\r\n                            }\r\n                        },\r\n                    },\r\n                }\r\n        },\r\n        fight : {\r\n            lim,\r\n            start : 'place',\r\n            stages : {\r\n                place : {\r\n                    next : 'enemy',\r\n                    options : f => Object.keys(G.places).filter( p => G.player.units.filter( u => u.place == p && u.fight != 0 ).length ),\r\n                    moves : {\r\n                        choose : (np, c) => {\r\n                            if (np == 'place' && Object.keys(G.places).filter( p => G.player.units.filter( u => u.place == p && u.fight != 0 ).length ).includes(c) ) {\r\n                                G.choices.fight.place = c\r\n                                endStage()\r\n                            }\r\n                        }\r\n                    },\r\n                },\r\n                enemy : {\r\n                    next : 'assignpkills',\r\n                    options : f => G.players.filter( p => p.faction.name != G.player.faction.name && p.units.filter( u => u.place == G.choices.fight.place).length ),\r\n                    moves : {\r\n                        choose : (np, c) => {\r\n                            if (np == 'enemy' && G.players.filter( p => p.faction.name != G.player.faction.name && p.units.filter( u => u.place == G.choices.fight.place).length ) /*&& !(places[c.place].tokens.includes('iceage') && player.power < 2)*/) {\r\n                                G.choices.fight.enemy = c\r\n                                calcDamage(G.player)\r\n                                calcDamage(G.choices.fight.enemy)\r\n                                G.player.power--\r\n                                endPhase()\r\n                            }\r\n                        }\r\n                    },\r\n                }, \r\n                assignpkills : {\r\n                    next : 'assignpretreats',\r\n                    options : f => G.player.units.filter( u => u.place == G.choices.fight.place ),\r\n                    moves : {\r\n                        choose : (np, c) => {\r\n                            if ( G.player.units.filter( u => u.place == G.choices.fight.place ).map( u => u.id ).includes( c.id ) ) {\r\n                                c.place = ''\r\n                                G.player.kills--\r\n                                forceRerender()\r\n                            }\r\n                            if ( !G.player.kills || !G.player.units.filter( u => u.place == G.choices.fight.place ).length ) \r\n                                endStage()\r\n                        }\r\n                    }\r\n                },\r\n                assignpretreats : {\r\n                    next : 'placepretreats',\r\n                    options : f => G.player.units.filter( u => u.place == G.choices.fight.place ),\r\n                    moves : {\r\n                        choose : (np, c) => {\r\n                            if ( G.player.units.filter( u => u.place == G.choices.fight.place ).map( u => u.id ).includes( c.id ) ) {\r\n                                G.choice.fight.unit = c\r\n                                endStage()\r\n                            }\r\n                        }\r\n                    }\r\n                },\r\n                placepretreats : {\r\n                    next : 'assignekills',\r\n                    options : f => G.places[G.choices.fight.unit.place].adjacent.filter( p => !G.choices.fight.enemy.units.map( u => u.place ).includes(p)),\r\n                    moves : {\r\n                        choose : (np, c) => {\r\n                            if ( G.places[G.choices.fight.unit.place].adjacent.filter( p => !G.choices.fight.enemy.units.map( u => u.place ).includes(p)).includes( c ) ) {\r\n                                G.choices.fight.unit.place = c\r\n                                G.player.pains--\r\n                                forceRerender()\r\n                            }\r\n                            if ( !G.player.pains || !G.player.units.filter( u => u.place == G.choices.fight.place ).length ) \r\n                                endStage()\r\n                            else\r\n                                setStage('assignpretreats')\r\n                        }\r\n                    }\r\n                },\r\n                assignekills : {\r\n                    next : 'assigneretreats',\r\n                    options : f => G.choices.fight.enemy.units.filter( u => u.place == G.choices.fight.place ),\r\n                    moves : {\r\n                        choose : (np, c) => {\r\n                            if ( G.choices.fight.enemy.units.filter( u => u.place == G.choices.fight.place ).map( u => u.id ).includes( c.id ) ) {\r\n                                c.place = ''\r\n                                G.choices.fight.enemy.kills--\r\n                                forceRerender()\r\n                            }\r\n                            if ( !G.choices.fight.enemy.kills || !G.choices.fight.enemy.units.filter( u => u.place == G.choices.fight.place ).length ) \r\n                                endStage()\r\n                        }\r\n                    }\r\n                },\r\n                assigneretreats : {\r\n                    next : 'placeeretreats',\r\n                    options : f => G.choices.fight.enemy.units.filter( u => u.place == G.choices.fight.place ),\r\n                    moves : {\r\n                        choose : (np, c) => {\r\n                            if ( G.choices.fight.enemy.units.filter( u => u.place == G.choices.fight.place ).map( u => u.id ).includes( c.id ) ) {\r\n                                G.choice.fight.unit = c\r\n                                endStage()\r\n                            }\r\n                        }\r\n                    }\r\n                },\r\n                placeeretreats : {\r\n                    options : f => G.places[choices.fight.unit.place].adjacent.filter( p => !G.player.units.map( u => u.place ).includes(p)),\r\n                    moves : {\r\n                        choose : (np, c) => {\r\n                            if ( G.places[choices.fight.unit.place].adjacent.filter( p => !player.units.map( u => u.place ).includes(p)).includes( c ) ) {\r\n                                G.choices.fight.unit.place = c\r\n                                G.choices.fight.enemy.pains--\r\n                                forceRerender()\r\n                            }\r\n                            if ( !G.choices.fight.enemy.pains || !G.choices.fight.enemy.units.filter( u => u.place == G.choices.fight.place ).length ) {\r\n                                endPhase()\r\n                                G.choices.fight.place = null\r\n                                G.choices.fight.enemy = null\r\n                                G.choices.fight.unit = null\r\n                            } else\r\n                                setStage('assignpretreats')\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        },\r\n        hire : {\r\n            lim,\r\n            start : 'place',\r\n            stages : {\r\n                place : {\r\n                    options : f => Object.keys(G.places).filter( p => G.player.units.map( u => u.places ).includes(p) ),\r\n                    moves : {\r\n                        choose : (np, c) => {\r\n                            if (np == 'place' && G.player.units.map( u => u.places ).includes(c) ) {\r\n                                G.choices.hire.place = c\r\n                                let u = G.player.units.find( u => u.place == '' && u.type == 'cult')\r\n                                if (!u) setPhase('action')\r\n                                u.place = c\r\n                                G.player.power--\r\n                                G.choices.hire.place = null\r\n                                endPhase()\r\n                            }\r\n                        }\r\n                    }\r\n                },\r\n            }\r\n        },\r\n        open : {\r\n            lim,\r\n            start : 'place',\r\n            stages : {\r\n                place : {\r\n                    options : f => Object.keys(G.places).filter( p => !G.places[p].gate && G.player.units.filter( u => u.type == 'cult' ).map( u => u.place ).includes(p) ),\r\n                    moves : {\r\n                        choose : (np, c) => {\r\n                            if (np == 'place' && G.player.units.filter( u => u.type == 'cult' ).map( u => u.place ).includes(c) ) {\r\n                                G.choices.open.place = c\r\n                                G.places[choices.open.place].gate = 1\r\n                                G.player.power-=3\r\n                                endPhase()\r\n                            }\r\n                        }\r\n                    }\r\n                },\r\n            }\r\n        },\r\n        summon : {\r\n            lim,\r\n            start : 'unit',\r\n            stages : {\r\n                unit : {\r\n                    next : 'place',\r\n                    options : f => G.player.units.filter( u => !G.places[u.place] && u.cost <= G.player.power),\r\n                    moves : {\r\n                        choose : (np, c) => {\r\n                            if (np == 'unit' && !G.places[c.place] && c.cost <= G.player.power /*&& !(places[c.place].tokens.includes('iceage') && player.power < 2)*/) {\r\n                                G.choices.summon.unit = c\r\n                                endStage()\r\n                            }\r\n                        },\r\n                        done : f => {\r\n                            endPhase()\r\n                        }\r\n                    },\r\n                },\r\n                place : {\r\n                    options : f => G.player.units.filter( u => u.gate ).map( u => u.place ),\r\n                    moves : {\r\n                        choose : (np, c) => {\r\n                            if (np == 'place' && G.player.units.filter( u => u.gate ).map( u => u.place ).includes(c)) {\r\n                                G.choices.summon.place = c\r\n                                G.choices.summon.unit.place = c\r\n                                G.player.power -= choices.summon.unit.cost\r\n                                G.choices.summon.unit = null\r\n                                G.choices.summon.place = null\r\n                                forceRerender()\r\n                                endStage()\r\n                            }\r\n                        }\r\n                    },\r\n                },\r\n            }\r\n        },\r\n        steal : {\r\n            lim,\r\n            start : 'place',\r\n            stages : {\r\n                place : {\r\n                    next : 'unit',\r\n                    options : f => Object.keys(G.places).filter( p => stealableUnitsIn(p).length ),\r\n                    moves : {\r\n                        choose : (np, c) => {\r\n                            if (np == 'place' && stealableUnitsIn(c).length ) {\r\n                                G.choices.steal.place = c\r\n                                endStage()\r\n                            }\r\n                        }\r\n                    },\r\n                },\r\n                unit : {\r\n                    options : f => stealableUnitsIn(G.choices.steal.place),\r\n                    moves : {\r\n                        choose : (np, c) => {\r\n                            if (np == 'unit' && stealableUnitsIn(G.choices.steal.place).map( u => u.id).includes(c.id) /*&& !(places[c.place].tokens.includes('iceage') && player.power < 2)*/) {\r\n                                G.choices.steal.unit = c\r\n                                c.place = player.faction.name\r\n                                G.choices.steal.unit = null\r\n                                G.choices.steal.place = null\r\n                                endPhase()\r\n                            }\r\n                        }\r\n                    },\r\n                },\r\n            }\r\n        },\r\n        book : {\r\n            start : 'book',\r\n            stages : {\r\n                book : {\r\n                    options : f => G.player.faction.books,\r\n                    moves : {\r\n                        choose : (np, c) => {\r\n                            if (np == 'book' && G.player.faction.books.includes(c) ) {\r\n                                G.choices.book.book = c\r\n                                G.player.books = [...G.player.books, G.choices.book.book ]\r\n                                G.player.faction.bookreqs = G.player.faction.bookreqs.filter( b => !b['waiting...'])\r\n                                G.player.faction.books = G.player.faction.books.filter( b => b != G.choices.book.book)\r\n                                returnStage()\r\n                            }\r\n                        }\r\n                    },\r\n                },\r\n            }\r\n        },\r\n    }\r\n\r\n    let stealableUnitsIn = (p) => {\r\n            let tmpunits = []\r\n            G.players.map ( pl => {\r\n                tmpunits = [...G.units, ...pl.units.filter( u => u.place == p )]\r\n            })\r\n            dom = []\r\n            tmpunits.map( u => \r\n                dom[u.owner.faction.name] = (dom[u.owner.faction.name] < u.tier) \r\n                    ? u.tier : dom[u.owner.faction.name]\r\n            )\r\n            tmpunits.filter( u => \r\n                u.tier = 0 && dom[u.owner.faction.name] < dom[G.player.faction.name] \r\n            )\r\n            return tmpunits\r\n    }\r\n    let calcDamage = (p) => {\r\n        let r = roll( p.units.filter( u => u.place == choices.fight.place ).map( u => typeof u.combat == 'function' ? u.combat() : u.combat ) )\r\n        p.kills = r.filter( e => e > 4 ).length\r\n        p.pains = r.filter( e => e < 5 && e > 2).length\r\n    }\r\n    let forceRerender = f => {\r\n        \r\n        G.units = G.units\r\n        G.players = G.players\r\n    }\r\n\r\n</script>\r\n<style lang=\"stylus\">\r\n    .hud\r\n        position absolute\r\n        top 0\r\n        right 0\r\n        left 0\r\n        z-index 10\r\n        display flex\r\n        flex-direction row\r\n        ul\r\n            list-style-type none\r\n            li\r\n                width 90%\r\n                border-bottom 0.1em solid\r\n                margin 0.2em\r\n                font-size 2em\r\n                \r\n    .actions\r\n        position absolute\r\n        height 4vh\r\n        font-family arial\r\n        margin 0.5%\r\n        padding 0.1em\r\n        text-align center\r\n        padding-left 2em\r\n        padding-right 2em\r\n        border 0.1em solid black\r\n        box-sizing border-box\r\n        box-shadow 1px 1px 4px 1px #000a\r\n        overflow hidden\r\n        top 0\r\n        width fit-content\r\n        right 1%\r\n        color #ababab\r\n        background #323232\r\n        transition height 0.5s\r\n        &:hover\r\n            height: 90vh\r\n\r\n        \r\n</style>\r\n\r\n<!-- prettier-ignore -->\r\n<template lang=\"pug\">\r\n    Map('{...G}')\r\n    .hud\r\n        .actions actions\r\n            ul \r\n                +each('actions as action')\r\n                    +if('G.stage.includes(\"unit\")')\r\n                        li(on:click='{(function c(){G.choose(G.stage,action)})}') {action.type}\r\n                        +else\r\n                            li(on:click='{(function c(){G.choose(G.stage,action)})}') {action}\r\n                +if('G.phases[G.phase].stages && G.phases[G.phase].stages[G.stage].moves.done')\r\n                    li(on:click='{G.phases[G.phase].stages[G.stage].moves.done}') done\r\n                    +elseif('G.phases[G.phase].moves && G.phases[G.phase].moves.done')\r\n                        li(on:click='{G.phases[G.phase].moves.done}') done\r\n        \r\n        +each('G.players as player')\r\n            Player(choose='{G.choose}' '{player}')\r\n    </template>\r\n","import bg from './bg.js'\r\nimport cc from './cc.js'\r\nimport gc from './gc.js'\r\nimport ys from './ys.js'\r\nlet factions = G => ({bg:bg(G),cc:cc(G),gc:gc(G),ys:ys(G)})\r\nexport default factions","import App from './App.svelte';\n//import linksResources from './resources/linksResources';\n\nconst app = new App({\n\ttarget: document.body,\n\tprops: {\n\t\t// try to comment out the line below and see what happens on save\n\t\t// name: 'friend', \n\t\t//links: linksResources,\n\t}\n});\n\nexport default app;"],"names":["noop","identity","x","assign","tar","src","k","run","fn","blank_object","Object","create","run_all","fns","forEach","is_function","thing","safe_not_equal","a","b","is_client","window","now","performance","Date","raf","cb","requestAnimationFrame","tasks","Set","run_tasks","task","c","delete","f","size","loop","callback","promise","Promise","fulfill","add","[object Object]","append","target","node","appendChild","insert","anchor","insertBefore","detach","parentNode","removeChild","destroy_each","iterations","detaching","i","length","d","element","name","document","createElement","text","data","createTextNode","empty","listen","event","handler","options","addEventListener","removeEventListener","attr","attribute","value","removeAttribute","getAttribute","setAttribute","set_data","wholeText","toggle_class","toggle","classList","custom_event","type","detail","e","createEvent","initCustomEvent","active_docs","current_component","active","create_rule","duration","delay","ease","uid","step","keyframes","p","t","rule","str","hash","charCodeAt","doc","ownerDocument","stylesheet","__svelte_stylesheet","head","sheet","current_rules","__svelte_rules","insertRule","cssRules","animation","style","delete_rule","previous","split","next","filter","anim","indexOf","deleted","join","deleteRule","clear","create_animation","from","params","to","getBoundingClientRect","left","right","top","bottom","easing","start","start_time","end","tick","css","running","started","stop","fix_position","getComputedStyle","position","width","height","add_transform","transform","set_current_component","component","get_current_component","Error","onMount","$$","on_mount","push","createEventDispatcher","callbacks","slice","call","dirty_components","binding_callbacks","render_callbacks","flush_callbacks","resolved_promise","resolve","update_scheduled","add_render_callback","flushing","seen_callbacks","flush","update","pop","has","fragment","before_update","dirty","ctx","after_update","wait","then","dispatch","direction","kind","dispatchEvent","outroing","outros","group_outros","r","check_outros","transition_in","block","local","transition_out","o","null_transition","create_in_transition","animation_name","config","cleanup","go","end_time","abort","create_out_transition","group","reset","globals","globalThis","global","fix_and_outro_and_destroy_block","lookup","key","outro_and_destroy_block","update_keyed_each","old_blocks","get_key","dynamic","list","destroy","create_each_block","get_context","n","old_indexes","new_blocks","new_lookup","Map","deltas","child_ctx","get","set","Math","abs","will_move","did_move","m","first","new_block","old_block","new_key","old_key","create_component","mount_component","on_destroy","new_on_destroy","map","destroy_component","make_dirty","fill","init","instance","create_fragment","not_equal","props","parent_component","prop_values","bound","context","skip_bound","ready","ret","rest","hydrate","nodes","Array","childNodes","children","l","intro","SvelteComponent","this","$destroy","index","splice","$$props","obj","$$set","keys","el","choose","unit","owner","faction","color","background","gate","stopPropagation","cubicOut","quintOut","crossfade","_a","fallback","defaults","s","prototype","hasOwnProperty","getOwnPropertySymbols","propertyIsEnumerable","__rest","to_receive","to_send","transition","items","counterparts","rect","sqrt","dx","dy","dw","dh","opacity","u","flip","scaleX","clientWidth","scaleY","clientHeight","_t","id","place","units","arcticocean","northpacific","northamerica","northatlantic","scandinavia","europe","northasia","southamerica","southasia","arabia","westafrica","indianocean","eastafrica","antarctica","southatlantic","southpacific","australia","places","send","receive","doom","power","books","bookreqs","player","adjacent","ocean","G","sac 2 cults","be in 4 areas","includes","be in 6 areas","be in 8 areas","Awaken Shub Nigur'rath","choices","awaken","be in all enemy areas","players","pl","un","goo","mons","Ghoul","Fungi","Dark Young","addUnit","pay 4 pwoer","pay 6 pwoer","3 gates / 12 power","4 gates / 16 power","capture","Awaken Nyarlathotap","Nightgaunt","Hunting Horror","Flying Polyp","oceans","1st doom","phase","kill/devour enemy","fight","enemy","kills","devour","kill/devour 2 enemies","3/4 Ocean Gates","values","Awaken Cthulhu","doom + 5 books","Deep One","Shoggoth","Starspawn","gift 3 doom","Desecrate \\|/","desecrated","glyphs","Desecrate \\o/","Desecrate \\-/","Awaken King in Yellow","Awaken Hastur","Undead","Bya'khee","stage","phases","moves","done","stages","levels","updates","to_null_out","accounted_for","$$scope","undefined","spread_props","lim","factions","turn","bg","cc","gc","ys","Factions","genid","nonce","playerF","cost","tier","gather","pi","book","move","hire","open","summon","steal","actions","endTurn","returnStage","checkbooks","waiting...","inphase","instage","inpi","rphase","rstage","rpi","interuptStage","setStage","endStage","endPhase","setPhase","console","log","action","unlim","np","moved","forceRerender","calcDamage","assignpkills","assignpretreats","choice","placepretreats","pains","assignekills","assigneretreats","placeeretreats","find","stealableUnitsIn","tmpunits","dom","roll","combat","reduce","acc","cur","body"],"mappings":"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"}